function Sf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var nc={exports:{}},ai={},rc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),Nf=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Rf=Symbol.for("react.memo"),Af=Symbol.for("react.lazy"),_l=Symbol.iterator;function If(t){return t===null||typeof t!="object"?null:(t=_l&&t[_l]||t["@@iterator"],typeof t=="function"?t:null)}var sc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ic=Object.assign,oc={};function Vn(t,e,n){this.props=t,this.context=e,this.refs=oc,this.updater=n||sc}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ac(){}ac.prototype=Vn.prototype;function ga(t,e,n){this.props=t,this.context=e,this.refs=oc,this.updater=n||sc}var va=ga.prototype=new ac;va.constructor=ga;ic(va,Vn.prototype);va.isPureReactComponent=!0;var Sl=Array.isArray,lc=Object.prototype.hasOwnProperty,ya={current:null},uc={key:!0,ref:!0,__self:!0,__source:!0};function cc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lc.call(e,r)&&!uc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Br,type:t,key:i,ref:o,props:s,_owner:ya.current}}function Lf(t,e){return{$$typeof:Br,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Br}function $f(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kl=/\/+/g;function Ci(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$f(""+t.key):e.toString(36)}function _s(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Br:case Ef:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ci(o,0):r,Sl(s)?(n="",t!=null&&(n=t.replace(kl,"$&/")+"/"),_s(s,e,n,"",function(u){return u})):s!=null&&(wa(s)&&(s=Lf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(kl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ci(i,a);o+=_s(i,e,n,l,s)}else if(l=If(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ci(i,a++),o+=_s(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gr(t,e,n){if(t==null)return t;var r=[],s=0;return _s(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Uf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ye={current:null},Ss={transition:null},Df={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:ya};function dc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Gr,forEach:function(t,e,n){Gr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gr(t,function(){e++}),e},toArray:function(t){return Gr(t,function(e){return e})||[]},only:function(t){if(!wa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Vn;L.Fragment=jf;L.Profiler=Tf;L.PureComponent=ga;L.StrictMode=bf;L.Suspense=Of;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Df;L.act=dc;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ic({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ya.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lc.call(e,l)&&!uc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Br,type:t.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:Pf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cf,_context:t},t.Consumer=t};L.createElement=cc;L.createFactory=function(t){var e=cc.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Nf,render:t}};L.isValidElement=wa;L.lazy=function(t){return{$$typeof:Af,_payload:{_status:-1,_result:t},_init:Uf}};L.memo=function(t,e){return{$$typeof:Rf,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=Ss.transition;Ss.transition={};try{t()}finally{Ss.transition=e}};L.unstable_act=dc;L.useCallback=function(t,e){return ye.current.useCallback(t,e)};L.useContext=function(t){return ye.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return ye.current.useDeferredValue(t)};L.useEffect=function(t,e){return ye.current.useEffect(t,e)};L.useId=function(){return ye.current.useId()};L.useImperativeHandle=function(t,e,n){return ye.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return ye.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return ye.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return ye.current.useMemo(t,e)};L.useReducer=function(t,e,n){return ye.current.useReducer(t,e,n)};L.useRef=function(t){return ye.current.useRef(t)};L.useState=function(t){return ye.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return ye.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return ye.current.useTransition()};L.version="18.3.1";rc.exports=L;var b=rc.exports;const Mf=kf(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=b,zf=Symbol.for("react.element"),Ff=Symbol.for("react.fragment"),Wf=Object.prototype.hasOwnProperty,Vf=Bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hf={key:!0,ref:!0,__self:!0,__source:!0};function hc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wf.call(e,r)&&!Hf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zf,type:t,key:i,ref:o,props:s,_owner:Vf.current}}ai.Fragment=Ff;ai.jsx=hc;ai.jsxs=hc;nc.exports=ai;var c=nc.exports,uo={},fc={exports:{}},Oe={},pc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var I=P.length;P.push(A);e:for(;0<I;){var Y=I-1>>>1,se=P[Y];if(0<s(se,A))P[Y]=A,P[I]=se,I=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],I=P.pop();if(I!==A){P[0]=I;e:for(var Y=0,se=P.length,qr=se>>>1;Y<qr;){var Mt=2*(Y+1)-1,Ti=P[Mt],Bt=Mt+1,Kr=P[Bt];if(0>s(Ti,I))Bt<se&&0>s(Kr,Ti)?(P[Y]=Kr,P[Bt]=I,Y=Bt):(P[Y]=Ti,P[Mt]=I,Y=Mt);else if(Bt<se&&0>s(Kr,I))P[Y]=Kr,P[Bt]=I,Y=Bt;else break e}}return A}function s(P,A){var I=P.sortIndex-A.sortIndex;return I!==0?I:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,d=3,m=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=P)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function _(P){if(w=!1,v(P),!y)if(n(l)!==null)y=!0,ji(k);else{var A=n(u);A!==null&&bi(_,A.startTime-P)}}function k(P,A){y=!1,w&&(w=!1,g(T),T=-1),m=!0;var I=d;try{for(v(A),f=n(l);f!==null&&(!(f.expirationTime>A)||P&&!Ae());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var se=Y(f.expirationTime<=A);A=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),v(A)}else r(l);f=n(l)}if(f!==null)var qr=!0;else{var Mt=n(u);Mt!==null&&bi(_,Mt.startTime-A),qr=!1}return qr}finally{f=null,d=I,m=!1}}var x=!1,j=null,T=-1,D=5,$=-1;function Ae(){return!(t.unstable_now()-$<D)}function Ut(){if(j!==null){var P=t.unstable_now();$=P;var A=!0;try{A=j(!0,P)}finally{A?Dt():(x=!1,j=null)}}else x=!1}var Dt;if(typeof p=="function")Dt=function(){p(Ut)};else if(typeof MessageChannel<"u"){var wl=new MessageChannel,_f=wl.port2;wl.port1.onmessage=Ut,Dt=function(){_f.postMessage(null)}}else Dt=function(){S(Ut,0)};function ji(P){j=P,x||(x=!0,Dt())}function bi(P,A){T=S(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ji(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var I=d;d=A;try{return P()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=d;d=P;try{return A()}finally{d=I}},t.unstable_scheduleCallback=function(P,A,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,P={id:h++,callback:A,priorityLevel:P,startTime:I,expirationTime:se,sortIndex:-1},I>Y?(P.sortIndex=I,e(u,P),n(l)===null&&P===n(u)&&(w?(g(T),T=-1):w=!0,bi(_,I-Y))):(P.sortIndex=se,e(l,P),y||m||(y=!0,ji(k))),P},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(P){var A=d;return function(){var I=d;d=A;try{return P.apply(this,arguments)}finally{d=I}}}})(mc);pc.exports=mc;var qf=pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=b,Ne=qf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gc=new Set,_r={};function an(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(_r[t]=e,t=0;t<e.length;t++)gc.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,Gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xl={},El={};function Jf(t){return co.call(El,t)?!0:co.call(xl,t)?!1:Gf.test(t)?El[t]=!0:(xl[t]=!0,!1)}function Qf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yf(t,e,n,r){if(e===null||typeof e>"u"||Qf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var _a=/[\-:]([a-z])/g;function Sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_a,Sa);ce[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_a,Sa);ce[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_a,Sa);ce[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function ka(t,e,n,r){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yf(e,n,s,r)&&(n=null),r||s===null?Jf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),vn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),xa=Symbol.for("react.strict_mode"),ho=Symbol.for("react.profiler"),vc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),Ea=Symbol.for("react.forward_ref"),fo=Symbol.for("react.suspense"),po=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),wc=Symbol.for("react.offscreen"),jl=Symbol.iterator;function Qn(t){return t===null||typeof t!="object"?null:(t=jl&&t[jl]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Pi;function sr(t){if(Pi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pi=e&&e[1]||""}return`
`+Pi+t}var Ni=!1;function Oi(t,e){if(!t||Ni)return"";Ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ni=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sr(t):""}function Xf(t){switch(t.tag){case 5:return sr(t.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return t=Oi(t.type,!1),t;case 11:return t=Oi(t.type.render,!1),t;case 1:return t=Oi(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yn:return"Fragment";case vn:return"Portal";case ho:return"Profiler";case xa:return"StrictMode";case fo:return"Suspense";case po:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yc:return(t.displayName||"Context")+".Consumer";case vc:return(t._context.displayName||"Context")+".Provider";case Ea:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ja:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case gt:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function Zf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ot(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _c(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ep(t){var e=_c(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qr(t){t._valueTracker||(t._valueTracker=ep(t))}function Sc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_c(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function go(t,e){var n=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ot(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kc(t,e){e=e.checked,e!=null&&ka(t,"checked",e,!1)}function vo(t,e){kc(t,e);var n=Ot(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,n):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Ot(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yo(t,e,n){(e!=="number"||Rs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ir=Array.isArray;function Pn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ot(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ir(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ot(n)}}function xc(t,e){var n=Ot(e.value),r=Ot(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ec(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ec(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yr,jc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tp=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(t){tp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ur[e]=ur[t]})});function bc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ur.hasOwnProperty(t)&&ur[t]?(""+e).trim():e+"px"}function Tc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var np=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(t,e){if(e){if(np[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ko(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,Nn=null,On=null;function Nl(t){if(t=Wr(t)){if(typeof Eo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=hi(e),Eo(t.stateNode,t.type,e))}}function Cc(t){Nn?On?On.push(t):On=[t]:Nn=t}function Pc(){if(Nn){var t=Nn,e=On;if(On=Nn=null,Nl(t),e)for(t=0;t<e.length;t++)Nl(e[t])}}function Nc(t,e){return t(e)}function Oc(){}var Ri=!1;function Rc(t,e,n){if(Ri)return t(e,n);Ri=!0;try{return Nc(t,e,n)}finally{Ri=!1,(Nn!==null||On!==null)&&(Oc(),Pc())}}function kr(t,e){var n=t.stateNode;if(n===null)return null;var r=hi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var jo=!1;if(ut)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{jo=!1}function rp(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var cr=!1,As=null,Is=!1,bo=null,sp={onError:function(t){cr=!0,As=t}};function ip(t,e,n,r,s,i,o,a,l){cr=!1,As=null,rp.apply(sp,arguments)}function op(t,e,n,r,s,i,o,a,l){if(ip.apply(this,arguments),cr){if(cr){var u=As;cr=!1,As=null}else throw Error(E(198));Is||(Is=!0,bo=u)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ac(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ol(t){if(ln(t)!==t)throw Error(E(188))}function ap(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ol(s),t;if(i===r)return Ol(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Ic(t){return t=ap(t),t!==null?Lc(t):null}function Lc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lc(t);if(e!==null)return e;t=t.sibling}return null}var $c=Ne.unstable_scheduleCallback,Rl=Ne.unstable_cancelCallback,lp=Ne.unstable_shouldYield,up=Ne.unstable_requestPaint,X=Ne.unstable_now,cp=Ne.unstable_getCurrentPriorityLevel,Ta=Ne.unstable_ImmediatePriority,Uc=Ne.unstable_UserBlockingPriority,Ls=Ne.unstable_NormalPriority,dp=Ne.unstable_LowPriority,Dc=Ne.unstable_IdlePriority,li=null,tt=null;function hp(t){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:mp,fp=Math.log,pp=Math.LN2;function mp(t){return t>>>=0,t===0?32:31-(fp(t)/pp|0)|0}var Xr=64,Zr=4194304;function or(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=or(a):(i&=o,i!==0&&(r=or(i)))}else o=n&~s,o!==0?r=or(o):i!==0&&(r=or(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Je(e),s=1<<n,r|=t[n],e&=~s;return r}function gp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Je(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=gp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function To(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mc(){var t=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),t}function Ai(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Je(e),t[e]=n}function yp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Je(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ca(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Je(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var M=0;function Bc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zc,Pa,Fc,Wc,Vc,Co=!1,es=[],xt=null,Et=null,jt=null,xr=new Map,Er=new Map,yt=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(t,e){switch(t){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(e.pointerId)}}function Xn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wr(e),e!==null&&Pa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _p(t,e,n,r,s){switch(e){case"focusin":return xt=Xn(xt,t,e,n,r,s),!0;case"dragenter":return Et=Xn(Et,t,e,n,r,s),!0;case"mouseover":return jt=Xn(jt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xr.set(i,Xn(xr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Er.set(i,Xn(Er.get(i)||null,t,e,n,r,s)),!0}return!1}function Hc(t){var e=Jt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=Ac(n),e!==null){t.blockedOn=e,Vc(t.priority,function(){Fc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Po(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xo=r,n.target.dispatchEvent(r),xo=null}else return e=Wr(n),e!==null&&Pa(e),t.blockedOn=n,!1;e.shift()}return!0}function Il(t,e,n){ks(t)&&n.delete(e)}function Sp(){Co=!1,xt!==null&&ks(xt)&&(xt=null),Et!==null&&ks(Et)&&(Et=null),jt!==null&&ks(jt)&&(jt=null),xr.forEach(Il),Er.forEach(Il)}function Zn(t,e){t.blockedOn===e&&(t.blockedOn=null,Co||(Co=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,Sp)))}function jr(t){function e(s){return Zn(s,t)}if(0<es.length){Zn(es[0],t);for(var n=1;n<es.length;n++){var r=es[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xt!==null&&Zn(xt,t),Et!==null&&Zn(Et,t),jt!==null&&Zn(jt,t),xr.forEach(e),Er.forEach(e),n=0;n<yt.length;n++)r=yt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yt.length&&(n=yt[0],n.blockedOn===null);)Hc(n),n.blockedOn===null&&yt.shift()}var Rn=ft.ReactCurrentBatchConfig,Us=!0;function kp(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=1,Na(t,e,n,r)}finally{M=s,Rn.transition=i}}function xp(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=4,Na(t,e,n,r)}finally{M=s,Rn.transition=i}}function Na(t,e,n,r){if(Us){var s=Po(t,e,n,r);if(s===null)Wi(t,e,r,Ds,n),Al(t,r);else if(_p(s,t,e,n,r))r.stopPropagation();else if(Al(t,r),e&4&&-1<wp.indexOf(t)){for(;s!==null;){var i=Wr(s);if(i!==null&&zc(i),i=Po(t,e,n,r),i===null&&Wi(t,e,r,Ds,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wi(t,e,r,null,n)}}var Ds=null;function Po(t,e,n,r){if(Ds=null,t=ba(r),t=Jt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ac(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ds=t,null}function qc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cp()){case Ta:return 1;case Uc:return 4;case Ls:case dp:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var St=null,Oa=null,xs=null;function Kc(){if(xs)return xs;var t,e=Oa,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return xs=s.slice(t,1<r?1-r:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function Ll(){return!1}function Re(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ts:Ll,this.isPropagationStopped=Ll,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),e}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Re(Hn),Fr=J({},Hn,{view:0,detail:0}),Ep=Re(Fr),Ii,Li,er,ui=J({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Ii=t.screenX-er.screenX,Li=t.screenY-er.screenY):Li=Ii=0,er=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:Li}}),$l=Re(ui),jp=J({},ui,{dataTransfer:0}),bp=Re(jp),Tp=J({},Fr,{relatedTarget:0}),$i=Re(Tp),Cp=J({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pp=Re(Cp),Np=J({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Op=Re(Np),Rp=J({},Hn,{data:0}),Ul=Re(Rp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $p(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lp[t])?!!e[t]:!1}function Aa(){return $p}var Up=J({},Fr,{key:function(t){if(t.key){var e=Ap[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ip[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dp=Re(Up),Mp=J({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Re(Mp),Bp=J({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),zp=Re(Bp),Fp=J({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wp=Re(Fp),Vp=J({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=Re(Vp),qp=[9,13,27,32],Ia=ut&&"CompositionEvent"in window,dr=null;ut&&"documentMode"in document&&(dr=document.documentMode);var Kp=ut&&"TextEvent"in window&&!dr,Gc=ut&&(!Ia||dr&&8<dr&&11>=dr),Ml=" ",Bl=!1;function Jc(t,e){switch(t){case"keyup":return qp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wn=!1;function Gp(t,e){switch(t){case"compositionend":return Qc(e);case"keypress":return e.which!==32?null:(Bl=!0,Ml);case"textInput":return t=e.data,t===Ml&&Bl?null:t;default:return null}}function Jp(t,e){if(wn)return t==="compositionend"||!Ia&&Jc(t,e)?(t=Kc(),xs=Oa=St=null,wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gc&&e.locale!=="ko"?null:e.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qp[t.type]:e==="textarea"}function Yc(t,e,n,r){Cc(r),e=Ms(e,"onChange"),0<e.length&&(n=new Ra("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hr=null,br=null;function Yp(t){ld(t,0)}function ci(t){var e=kn(t);if(Sc(e))return t}function Xp(t,e){if(t==="change")return e}var Xc=!1;if(ut){var Ui;if(ut){var Di="oninput"in document;if(!Di){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Di=typeof Fl.oninput=="function"}Ui=Di}else Ui=!1;Xc=Ui&&(!document.documentMode||9<document.documentMode)}function Wl(){hr&&(hr.detachEvent("onpropertychange",Zc),br=hr=null)}function Zc(t){if(t.propertyName==="value"&&ci(br)){var e=[];Yc(e,br,t,ba(t)),Rc(Yp,e)}}function Zp(t,e,n){t==="focusin"?(Wl(),hr=e,br=n,hr.attachEvent("onpropertychange",Zc)):t==="focusout"&&Wl()}function em(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ci(br)}function tm(t,e){if(t==="click")return ci(e)}function nm(t,e){if(t==="input"||t==="change")return ci(e)}function rm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:rm;function Tr(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!co.call(e,s)||!Ye(t[s],e[s]))return!1}return!0}function Vl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hl(t,e){var n=Vl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vl(n)}}function ed(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ed(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function td(){for(var t=window,e=Rs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rs(t.document)}return e}function La(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sm(t){var e=td(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ed(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hl(n,i);var o=Hl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var im=ut&&"documentMode"in document&&11>=document.documentMode,_n=null,No=null,fr=null,Oo=!1;function ql(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oo||_n==null||_n!==Rs(r)||(r=_n,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fr&&Tr(fr,r)||(fr=r,r=Ms(No,"onSelect"),0<r.length&&(e=new Ra("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_n)))}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},Mi={},nd={};ut&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function di(t){if(Mi[t])return Mi[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nd)return Mi[t]=e[n];return t}var rd=di("animationend"),sd=di("animationiteration"),id=di("animationstart"),od=di("transitionend"),ad=new Map,Kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(t,e){ad.set(t,e),an(e,[t])}for(var Bi=0;Bi<Kl.length;Bi++){var zi=Kl[Bi],om=zi.toLowerCase(),am=zi[0].toUpperCase()+zi.slice(1);At(om,"on"+am)}At(rd,"onAnimationEnd");At(sd,"onAnimationIteration");At(id,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(od,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ar));function Gl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,op(r,e,void 0,t),t.currentTarget=null}function ld(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Gl(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Gl(s,a,u),i=l}}}if(Is)throw t=bo,Is=!1,bo=null,t}function W(t,e){var n=e[$o];n===void 0&&(n=e[$o]=new Set);var r=t+"__bubble";n.has(r)||(ud(e,t,2,!1),n.add(r))}function Fi(t,e,n){var r=0;e&&(r|=4),ud(n,t,r,e)}var rs="_reactListening"+Math.random().toString(36).slice(2);function Cr(t){if(!t[rs]){t[rs]=!0,gc.forEach(function(n){n!=="selectionchange"&&(lm.has(n)||Fi(n,!1,t),Fi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rs]||(e[rs]=!0,Fi("selectionchange",!1,e))}}function ud(t,e,n,r){switch(qc(e)){case 1:var s=kp;break;case 4:s=xp;break;default:s=Na}n=s.bind(null,e,n,t),s=void 0,!jo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Jt(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Rc(function(){var u=i,h=ba(n),f=[];e:{var d=ad.get(t);if(d!==void 0){var m=Ra,y=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":m=Dp;break;case"focusin":y="focus",m=$i;break;case"focusout":y="blur",m=$i;break;case"beforeblur":case"afterblur":m=$i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zp;break;case rd:case sd:case id:m=Pp;break;case od:m=Wp;break;case"scroll":m=Ep;break;case"wheel":m=Hp;break;case"copy":case"cut":case"paste":m=Op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dl}var w=(e&4)!==0,S=!w&&t==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=kr(p,g),_!=null&&w.push(Pr(p,_,v)))),S)break;p=p.return}0<w.length&&(d=new m(d,y,null,n,h),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==xo&&(y=n.relatedTarget||n.fromElement)&&(Jt(y)||y[ct]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Jt(y):null,y!==null&&(S=ln(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=$l,_="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Dl,_="onPointerLeave",g="onPointerEnter",p="pointer"),S=m==null?d:kn(m),v=y==null?d:kn(y),d=new w(_,p+"leave",m,n,h),d.target=S,d.relatedTarget=v,_=null,Jt(h)===u&&(w=new w(g,p+"enter",y,n,h),w.target=v,w.relatedTarget=S,_=w),S=_,m&&y)t:{for(w=m,g=y,p=0,v=w;v;v=un(v))p++;for(v=0,_=g;_;_=un(_))v++;for(;0<p-v;)w=un(w),p--;for(;0<v-p;)g=un(g),v--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=un(w),g=un(g)}w=null}else w=null;m!==null&&Jl(f,d,m,w,!1),y!==null&&S!==null&&Jl(f,S,y,w,!0)}}e:{if(d=u?kn(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var k=Xp;else if(zl(d))if(Xc)k=nm;else{k=em;var x=Zp}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=tm);if(k&&(k=k(t,u))){Yc(f,k,n,h);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&yo(d,"number",d.value)}switch(x=u?kn(u):window,t){case"focusin":(zl(x)||x.contentEditable==="true")&&(_n=x,No=u,fr=null);break;case"focusout":fr=No=_n=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,ql(f,n,h);break;case"selectionchange":if(im)break;case"keydown":case"keyup":ql(f,n,h)}var j;if(Ia)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wn?Jc(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Gc&&n.locale!=="ko"&&(wn||T!=="onCompositionStart"?T==="onCompositionEnd"&&wn&&(j=Kc()):(St=h,Oa="value"in St?St.value:St.textContent,wn=!0)),x=Ms(u,T),0<x.length&&(T=new Ul(T,t,null,n,h),f.push({event:T,listeners:x}),j?T.data=j:(j=Qc(n),j!==null&&(T.data=j)))),(j=Kp?Gp(t,n):Jp(t,n))&&(u=Ms(u,"onBeforeInput"),0<u.length&&(h=new Ul("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=j))}ld(f,e)})}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ms(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kr(t,n),i!=null&&r.unshift(Pr(t,i,s)),i=kr(t,e),i!=null&&r.push(Pr(t,i,s))),t=t.return}return r}function un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=kr(n,i),l!=null&&o.unshift(Pr(n,l,a))):s||(l=kr(n,i),l!=null&&o.push(Pr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var um=/\r\n?/g,cm=/\u0000|\uFFFD/g;function Ql(t){return(typeof t=="string"?t:""+t).replace(um,`
`).replace(cm,"")}function ss(t,e,n){if(e=Ql(e),Ql(t)!==e&&n)throw Error(E(425))}function Bs(){}var Ro=null,Ao=null;function Io(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,Yl=typeof Promise=="function"?Promise:void 0,hm=typeof queueMicrotask=="function"?queueMicrotask:typeof Yl<"u"?function(t){return Yl.resolve(null).then(t).catch(fm)}:Lo;function fm(t){setTimeout(function(){throw t})}function Vi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jr(e)}function bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qn=Math.random().toString(36).slice(2),et="__reactFiber$"+qn,Nr="__reactProps$"+qn,ct="__reactContainer$"+qn,$o="__reactEvents$"+qn,pm="__reactListeners$"+qn,mm="__reactHandles$"+qn;function Jt(t){var e=t[et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ct]||n[et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xl(t);t!==null;){if(n=t[et])return n;t=Xl(t)}return e}t=n,n=t.parentNode}return null}function Wr(t){return t=t[et]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function hi(t){return t[Nr]||null}var Uo=[],xn=-1;function It(t){return{current:t}}function V(t){0>xn||(t.current=Uo[xn],Uo[xn]=null,xn--)}function F(t,e){xn++,Uo[xn]=t.current,t.current=e}var Rt={},pe=It(Rt),ke=It(!1),tn=Rt;function Un(t,e){var n=t.type.contextTypes;if(!n)return Rt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xe(t){return t=t.childContextTypes,t!=null}function zs(){V(ke),V(pe)}function Zl(t,e,n){if(pe.current!==Rt)throw Error(E(168));F(pe,e),F(ke,n)}function cd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Zf(t)||"Unknown",s));return J({},n,r)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rt,tn=pe.current,F(pe,t),F(ke,ke.current),!0}function eu(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=cd(t,e,tn),r.__reactInternalMemoizedMergedChildContext=t,V(ke),V(pe),F(pe,t)):V(ke),F(ke,n)}var it=null,fi=!1,Hi=!1;function dd(t){it===null?it=[t]:it.push(t)}function gm(t){fi=!0,dd(t)}function Lt(){if(!Hi&&it!==null){Hi=!0;var t=0,e=M;try{var n=it;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}it=null,fi=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),$c(Ta,Lt),s}finally{M=e,Hi=!1}}return null}var En=[],jn=0,Ws=null,Vs=0,Le=[],$e=0,nn=null,ot=1,at="";function Wt(t,e){En[jn++]=Vs,En[jn++]=Ws,Ws=t,Vs=e}function hd(t,e,n){Le[$e++]=ot,Le[$e++]=at,Le[$e++]=nn,nn=t;var r=ot;t=at;var s=32-Je(r)-1;r&=~(1<<s),n+=1;var i=32-Je(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ot=1<<32-Je(e)+s|n<<s|r,at=i+t}else ot=1<<i|n<<s|r,at=t}function $a(t){t.return!==null&&(Wt(t,1),hd(t,1,0))}function Ua(t){for(;t===Ws;)Ws=En[--jn],En[jn]=null,Vs=En[--jn],En[jn]=null;for(;t===nn;)nn=Le[--$e],Le[$e]=null,at=Le[--$e],Le[$e]=null,ot=Le[--$e],Le[$e]=null}var Pe=null,Ce=null,H=!1,Ge=null;function fd(t,e){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Ce=bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Ce=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nn!==null?{id:ot,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Ce=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mo(t){if(H){var e=Ce;if(e){var n=e;if(!tu(t,e)){if(Do(t))throw Error(E(418));e=bt(n.nextSibling);var r=Pe;e&&tu(t,e)?fd(r,n):(t.flags=t.flags&-4097|2,H=!1,Pe=t)}}else{if(Do(t))throw Error(E(418));t.flags=t.flags&-4097|2,H=!1,Pe=t}}}function nu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function is(t){if(t!==Pe)return!1;if(!H)return nu(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Io(t.type,t.memoizedProps)),e&&(e=Ce)){if(Do(t))throw pd(),Error(E(418));for(;e;)fd(t,e),e=bt(e.nextSibling)}if(nu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ce=bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ce=null}}else Ce=Pe?bt(t.stateNode.nextSibling):null;return!0}function pd(){for(var t=Ce;t;)t=bt(t.nextSibling)}function Dn(){Ce=Pe=null,H=!1}function Da(t){Ge===null?Ge=[t]:Ge.push(t)}var vm=ft.ReactCurrentBatchConfig;function tr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function os(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ru(t){var e=t._init;return e(t._payload)}function md(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Nt(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,_){return p===null||p.tag!==6?(p=Xi(v,g.mode,_),p.return=g,p):(p=s(p,v),p.return=g,p)}function l(g,p,v,_){var k=v.type;return k===yn?h(g,p,v.props.children,_,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&ru(k)===p.type)?(_=s(p,v.props),_.ref=tr(g,p,v),_.return=g,_):(_=Os(v.type,v.key,v.props,null,g.mode,_),_.ref=tr(g,p,v),_.return=g,_)}function u(g,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Zi(v,g.mode,_),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function h(g,p,v,_,k){return p===null||p.tag!==7?(p=en(v,g.mode,_,k),p.return=g,p):(p=s(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Xi(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jr:return v=Os(p.type,p.key,p.props,null,g.mode,v),v.ref=tr(g,null,p),v.return=g,v;case vn:return p=Zi(p,g.mode,v),p.return=g,p;case gt:var _=p._init;return f(g,_(p._payload),v)}if(ir(p)||Qn(p))return p=en(p,g.mode,v,null),p.return=g,p;os(g,p)}return null}function d(g,p,v,_){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jr:return v.key===k?l(g,p,v,_):null;case vn:return v.key===k?u(g,p,v,_):null;case gt:return k=v._init,d(g,p,k(v._payload),_)}if(ir(v)||Qn(v))return k!==null?null:h(g,p,v,_,null);os(g,v)}return null}function m(g,p,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(p,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jr:return g=g.get(_.key===null?v:_.key)||null,l(p,g,_,k);case vn:return g=g.get(_.key===null?v:_.key)||null,u(p,g,_,k);case gt:var x=_._init;return m(g,p,v,x(_._payload),k)}if(ir(_)||Qn(_))return g=g.get(v)||null,h(p,g,_,k,null);os(p,_)}return null}function y(g,p,v,_){for(var k=null,x=null,j=p,T=p=0,D=null;j!==null&&T<v.length;T++){j.index>T?(D=j,j=null):D=j.sibling;var $=d(g,j,v[T],_);if($===null){j===null&&(j=D);break}t&&j&&$.alternate===null&&e(g,j),p=i($,p,T),x===null?k=$:x.sibling=$,x=$,j=D}if(T===v.length)return n(g,j),H&&Wt(g,T),k;if(j===null){for(;T<v.length;T++)j=f(g,v[T],_),j!==null&&(p=i(j,p,T),x===null?k=j:x.sibling=j,x=j);return H&&Wt(g,T),k}for(j=r(g,j);T<v.length;T++)D=m(j,g,T,v[T],_),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?T:D.key),p=i(D,p,T),x===null?k=D:x.sibling=D,x=D);return t&&j.forEach(function(Ae){return e(g,Ae)}),H&&Wt(g,T),k}function w(g,p,v,_){var k=Qn(v);if(typeof k!="function")throw Error(E(150));if(v=k.call(v),v==null)throw Error(E(151));for(var x=k=null,j=p,T=p=0,D=null,$=v.next();j!==null&&!$.done;T++,$=v.next()){j.index>T?(D=j,j=null):D=j.sibling;var Ae=d(g,j,$.value,_);if(Ae===null){j===null&&(j=D);break}t&&j&&Ae.alternate===null&&e(g,j),p=i(Ae,p,T),x===null?k=Ae:x.sibling=Ae,x=Ae,j=D}if($.done)return n(g,j),H&&Wt(g,T),k;if(j===null){for(;!$.done;T++,$=v.next())$=f(g,$.value,_),$!==null&&(p=i($,p,T),x===null?k=$:x.sibling=$,x=$);return H&&Wt(g,T),k}for(j=r(g,j);!$.done;T++,$=v.next())$=m(j,g,T,$.value,_),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?T:$.key),p=i($,p,T),x===null?k=$:x.sibling=$,x=$);return t&&j.forEach(function(Ut){return e(g,Ut)}),H&&Wt(g,T),k}function S(g,p,v,_){if(typeof v=="object"&&v!==null&&v.type===yn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Jr:e:{for(var k=v.key,x=p;x!==null;){if(x.key===k){if(k=v.type,k===yn){if(x.tag===7){n(g,x.sibling),p=s(x,v.props.children),p.return=g,g=p;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&ru(k)===x.type){n(g,x.sibling),p=s(x,v.props),p.ref=tr(g,x,v),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}v.type===yn?(p=en(v.props.children,g.mode,_,v.key),p.return=g,g=p):(_=Os(v.type,v.key,v.props,null,g.mode,_),_.ref=tr(g,p,v),_.return=g,g=_)}return o(g);case vn:e:{for(x=v.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Zi(v,g.mode,_),p.return=g,g=p}return o(g);case gt:return x=v._init,S(g,p,x(v._payload),_)}if(ir(v))return y(g,p,v,_);if(Qn(v))return w(g,p,v,_);os(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,v),p.return=g,g=p):(n(g,p),p=Xi(v,g.mode,_),p.return=g,g=p),o(g)):n(g,p)}return S}var Mn=md(!0),gd=md(!1),Hs=It(null),qs=null,bn=null,Ma=null;function Ba(){Ma=bn=qs=null}function za(t){var e=Hs.current;V(Hs),t._currentValue=e}function Bo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function An(t,e){qs=t,Ma=bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(Ma!==t)if(t={context:t,memoizedValue:e,next:null},bn===null){if(qs===null)throw Error(E(308));bn=t,qs.dependencies={lanes:0,firstContext:t}}else bn=bn.next=t;return e}var Qt=null;function Fa(t){Qt===null?Qt=[t]:Qt.push(t)}function vd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fa(e)):(n.next=s.next,s.next=n),e.interleaved=n,dt(t,r)}function dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function Wa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dt(t,n)}return s=r.interleaved,s===null?(e.next=e,Fa(r)):(e.next=s.next,s.next=e),r.interleaved=e,dt(t,n)}function js(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ca(t,n)}}function su(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ks(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(d=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(m,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(m,f,d):y,d==null)break e;f=J({},f,d);break e;case 2:vt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sn|=o,t.lanes=o,t.memoizedState=f}}function iu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Vr={},nt=It(Vr),Or=It(Vr),Rr=It(Vr);function Yt(t){if(t===Vr)throw Error(E(174));return t}function Va(t,e){switch(F(Rr,e),F(Or,t),F(nt,Vr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_o(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_o(e,t)}V(nt),F(nt,e)}function Bn(){V(nt),V(Or),V(Rr)}function wd(t){Yt(Rr.current);var e=Yt(nt.current),n=_o(e,t.type);e!==n&&(F(Or,t),F(nt,n))}function Ha(t){Or.current===t&&(V(nt),V(Or))}var K=It(0);function Gs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qi=[];function qa(){for(var t=0;t<qi.length;t++)qi[t]._workInProgressVersionPrimary=null;qi.length=0}var bs=ft.ReactCurrentDispatcher,Ki=ft.ReactCurrentBatchConfig,rn=0,G=null,ne=null,ie=null,Js=!1,pr=!1,Ar=0,ym=0;function de(){throw Error(E(321))}function Ka(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ye(t[n],e[n]))return!1;return!0}function Ga(t,e,n,r,s,i){if(rn=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bs.current=t===null||t.memoizedState===null?km:xm,t=n(r,s),pr){i=0;do{if(pr=!1,Ar=0,25<=i)throw Error(E(301));i+=1,ie=ne=null,e.updateQueue=null,bs.current=Em,t=n(r,s)}while(pr)}if(bs.current=Qs,e=ne!==null&&ne.next!==null,rn=0,ie=ne=G=null,Js=!1,e)throw Error(E(300));return t}function Ja(){var t=Ar!==0;return Ar=0,t}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?G.memoizedState=ie=t:ie=ie.next=t,ie}function Be(){if(ne===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?G.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(E(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?G.memoizedState=ie=t:ie=ie.next=t}return ie}function Ir(t,e){return typeof e=="function"?e(t):e}function Gi(t){var e=Be(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((rn&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,G.lanes|=h,sn|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ye(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,sn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ji(t){var e=Be(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ye(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _d(){}function Sd(t,e){var n=G,r=Be(),s=e(),i=!Ye(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,Qa(Ed.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Lr(9,xd.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(E(349));rn&30||kd(n,e,s)}return s}function kd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xd(t,e,n,r){e.value=n,e.getSnapshot=r,jd(e)&&bd(t)}function Ed(t,e,n){return n(function(){jd(e)&&bd(t)})}function jd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ye(t,n)}catch{return!0}}function bd(t){var e=dt(t,1);e!==null&&Qe(e,t,1,-1)}function ou(t){var e=Ze();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:t},e.queue=t,t=t.dispatch=Sm.bind(null,G,t),[e.memoizedState,t]}function Lr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Td(){return Be().memoizedState}function Ts(t,e,n,r){var s=Ze();G.flags|=t,s.memoizedState=Lr(1|e,n,void 0,r===void 0?null:r)}function pi(t,e,n,r){var s=Be();r=r===void 0?null:r;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,r!==null&&Ka(r,o.deps)){s.memoizedState=Lr(e,n,i,r);return}}G.flags|=t,s.memoizedState=Lr(1|e,n,i,r)}function au(t,e){return Ts(8390656,8,t,e)}function Qa(t,e){return pi(2048,8,t,e)}function Cd(t,e){return pi(4,2,t,e)}function Pd(t,e){return pi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Od(t,e,n){return n=n!=null?n.concat([t]):null,pi(4,4,Nd.bind(null,e,t),n)}function Ya(){}function Rd(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ka(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ad(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ka(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Id(t,e,n){return rn&21?(Ye(n,e)||(n=Mc(),G.lanes|=n,sn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function wm(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Ki.transition;Ki.transition={};try{t(!1),e()}finally{M=n,Ki.transition=r}}function Ld(){return Be().memoizedState}function _m(t,e,n){var r=Pt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$d(t))Ud(e,n);else if(n=vd(t,e,n,r),n!==null){var s=ve();Qe(n,t,r,s),Dd(n,e,r)}}function Sm(t,e,n){var r=Pt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($d(t))Ud(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ye(a,o)){var l=e.interleaved;l===null?(s.next=s,Fa(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=vd(t,e,s,r),n!==null&&(s=ve(),Qe(n,t,r,s),Dd(n,e,r))}}function $d(t){var e=t.alternate;return t===G||e!==null&&e===G}function Ud(t,e){pr=Js=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ca(t,n)}}var Qs={readContext:Me,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},km={readContext:Me,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:au,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ts(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ts(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ts(4,2,t,e)},useMemo:function(t,e){var n=Ze();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ze();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_m.bind(null,G,t),[r.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:ou,useDebugValue:Ya,useDeferredValue:function(t){return Ze().memoizedState=t},useTransition:function(){var t=ou(!1),e=t[0];return t=wm.bind(null,t[1]),Ze().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=G,s=Ze();if(H){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),oe===null)throw Error(E(349));rn&30||kd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,au(Ed.bind(null,r,i,t),[t]),r.flags|=2048,Lr(9,xd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ze(),e=oe.identifierPrefix;if(H){var n=at,r=ot;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ar++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ym++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xm={readContext:Me,useCallback:Rd,useContext:Me,useEffect:Qa,useImperativeHandle:Od,useInsertionEffect:Cd,useLayoutEffect:Pd,useMemo:Ad,useReducer:Gi,useRef:Td,useState:function(){return Gi(Ir)},useDebugValue:Ya,useDeferredValue:function(t){var e=Be();return Id(e,ne.memoizedState,t)},useTransition:function(){var t=Gi(Ir)[0],e=Be().memoizedState;return[t,e]},useMutableSource:_d,useSyncExternalStore:Sd,useId:Ld,unstable_isNewReconciler:!1},Em={readContext:Me,useCallback:Rd,useContext:Me,useEffect:Qa,useImperativeHandle:Od,useInsertionEffect:Cd,useLayoutEffect:Pd,useMemo:Ad,useReducer:Ji,useRef:Td,useState:function(){return Ji(Ir)},useDebugValue:Ya,useDeferredValue:function(t){var e=Be();return ne===null?e.memoizedState=t:Id(e,ne.memoizedState,t)},useTransition:function(){var t=Ji(Ir)[0],e=Be().memoizedState;return[t,e]},useMutableSource:_d,useSyncExternalStore:Sd,useId:Ld,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:J({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mi={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ve(),s=Pt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Qe(e,t,s,r),js(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ve(),s=Pt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Qe(e,t,s,r),js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ve(),r=Pt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tt(t,s,r),e!==null&&(Qe(e,t,r,n),js(e,t,r))}};function lu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Tr(n,r)||!Tr(s,i):!0}function Md(t,e,n){var r=!1,s=Rt,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=xe(e)?tn:pe.current,r=e.contextTypes,i=(r=r!=null)?Un(t,s):Rt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mi.enqueueReplaceState(e,e.state,null)}function Fo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=xe(e)?tn:pe.current,s.context=Un(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mi.enqueueReplaceState(s,s.state,null),Ks(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zn(t,e){try{var n="",r=e;do n+=Xf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jm=typeof WeakMap=="function"?WeakMap:Map;function Bd(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Zo=r),Wo(t,e)},n}function zd(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wo(t,e),typeof r!="function"&&(Ct===null?Ct=new Set([this]):Ct.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Mm.bind(null,t,e,n),e.then(t,t))}function du(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Tt(n,e,1))),n.lanes|=1),t)}var bm=ft.ReactCurrentOwner,Se=!1;function me(t,e,n,r){e.child=t===null?gd(e,null,n,r):Mn(e,t.child,n,r)}function fu(t,e,n,r,s){n=n.render;var i=e.ref;return An(e,s),r=Ga(t,e,n,r,i,s),n=Ja(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(H&&n&&$a(e),e.flags|=1,me(t,e,r,s),e.child)}function pu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!il(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fd(t,e,i,r,s)):(t=Os(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(o,r)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=Nt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Fd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Tr(i,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,ht(t,e,s)}return Vo(t,e,n,r,s)}function Wd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Cn,je),je|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(Cn,je),je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,F(Cn,je),je|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,F(Cn,je),je|=r;return me(t,e,s,n),e.child}function Vd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vo(t,e,n,r,s){var i=xe(n)?tn:pe.current;return i=Un(e,i),An(e,s),n=Ga(t,e,n,r,i,s),r=Ja(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(H&&r&&$a(e),e.flags|=1,me(t,e,n,s),e.child)}function mu(t,e,n,r,s){if(xe(n)){var i=!0;Fs(e)}else i=!1;if(An(e,s),e.stateNode===null)Cs(t,e),Md(e,n,r),Fo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Me(u):(u=xe(n)?tn:pe.current,u=Un(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&uu(e,o,r,u),vt=!1;var d=e.memoizedState;o.state=d,Ks(e,r,o,s),l=e.memoizedState,a!==r||d!==l||ke.current||vt?(typeof h=="function"&&(zo(e,n,h,r),l=e.memoizedState),(a=vt||lu(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:He(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Me(l):(l=xe(n)?tn:pe.current,l=Un(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&uu(e,o,r,l),vt=!1,d=e.memoizedState,o.state=d,Ks(e,r,o,s);var y=e.memoizedState;a!==f||d!==y||ke.current||vt?(typeof m=="function"&&(zo(e,n,m,r),y=e.memoizedState),(u=vt||lu(e,n,u,r,d,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ho(t,e,n,r,i,s)}function Ho(t,e,n,r,s,i){Vd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&eu(e,n,!1),ht(t,e,i);r=e.stateNode,bm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mn(e,t.child,null,i),e.child=Mn(e,null,a,i)):me(t,e,a,i),e.memoizedState=r.state,s&&eu(e,n,!0),e.child}function Hd(t){var e=t.stateNode;e.pendingContext?Zl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zl(t,e.context,!1),Va(t,e.containerInfo)}function gu(t,e,n,r,s){return Dn(),Da(s),e.flags|=256,me(t,e,n,r),e.child}var qo={dehydrated:null,treeContext:null,retryLane:0};function Ko(t){return{baseLanes:t,cachePool:null,transitions:null}}function qd(t,e,n){var r=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(K,s&1),t===null)return Mo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yi(o,r,0,null),t=en(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ko(n),e.memoizedState=qo,t):Xa(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Tm(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Nt(a,i):(i=en(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ko(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qo,r}return i=t.child,t=i.sibling,r=Nt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xa(t,e){return e=yi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function as(t,e,n,r){return r!==null&&Da(r),Mn(e,t.child,null,n),t=Xa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qi(Error(E(422))),as(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yi({mode:"visible",children:r.children},s,0,null),i=en(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mn(e,t.child,null,o),e.child.memoizedState=Ko(o),e.memoizedState=qo,i);if(!(e.mode&1))return as(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(E(419)),r=Qi(i,r,void 0),as(t,e,o,r)}if(a=(o&t.childLanes)!==0,Se||a){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),Qe(r,t,s,-1))}return sl(),r=Qi(Error(E(421))),as(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Bm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ce=bt(s.nextSibling),Pe=e,H=!0,Ge=null,t!==null&&(Le[$e++]=ot,Le[$e++]=at,Le[$e++]=nn,ot=t.id,at=t.overflow,nn=e),e=Xa(e,r.children),e.flags|=4096,e)}function vu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bo(t.return,e,n)}function Yi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Kd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(me(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vu(t,n,e);else if(t.tag===19)vu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(F(K,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yi(e,!0,n,null,i);break;case"together":Yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Nt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cm(t,e,n){switch(e.tag){case 3:Hd(e),Dn();break;case 5:wd(e);break;case 1:xe(e.type)&&Fs(e);break;case 4:Va(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;F(Hs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(F(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?qd(t,e,n):(F(K,K.current&1),t=ht(t,e,n),t!==null?t.sibling:null);F(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Kd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Wd(t,e,n)}return ht(t,e,n)}var Gd,Go,Jd,Qd;Gd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Go=function(){};Jd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yt(nt.current);var i=null;switch(n){case"input":s=go(t,s),r=go(t,r),i=[];break;case"select":s=J({},s,{value:void 0}),r=J({},r,{value:void 0}),i=[];break;case"textarea":s=wo(t,s),r=wo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bs)}So(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_r.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_r.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&W("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Qd=function(t,e,n,r){n!==r&&(e.flags|=4)};function nr(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Pm(t,e,n){var r=e.pendingProps;switch(Ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return xe(e.type)&&zs(),he(e),null;case 3:return r=e.stateNode,Bn(),V(ke),V(pe),qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(is(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ge!==null&&(na(Ge),Ge=null))),Go(t,e),he(e),null;case 5:Ha(e);var s=Yt(Rr.current);if(n=e.type,t!==null&&e.stateNode!=null)Jd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return he(e),null}if(t=Yt(nt.current),is(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[et]=e,r[Nr]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<ar.length;s++)W(ar[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":bl(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":Cl(r,i),W("invalid",r)}So(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ss(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ss(r.textContent,a,t),s=["children",""+a]):_r.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":Qr(r),Tl(r,i,!0);break;case"textarea":Qr(r),Pl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ec(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[et]=e,t[Nr]=r,Gd(t,e,!1,!1),e.stateNode=t;e:{switch(o=ko(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<ar.length;s++)W(ar[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":bl(t,r),s=go(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=J({},r,{value:void 0}),W("invalid",t);break;case"textarea":Cl(t,r),s=wo(t,r),W("invalid",t);break;default:s=r}So(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Tc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sr(t,l):typeof l=="number"&&Sr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_r.hasOwnProperty(i)?l!=null&&i==="onScroll"&&W("scroll",t):l!=null&&ka(t,i,l,o))}switch(n){case"input":Qr(t),Tl(t,r,!1);break;case"textarea":Qr(t),Pl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ot(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)Qd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Yt(Rr.current),Yt(nt.current),is(e)){if(r=e.stateNode,n=e.memoizedProps,r[et]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:ss(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ss(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[et]=e,e.stateNode=r}return he(e),null;case 13:if(V(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Ce!==null&&e.mode&1&&!(e.flags&128))pd(),Dn(),e.flags|=98560,i=!1;else if(i=is(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[et]=e}else Dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Ge!==null&&(na(Ge),Ge=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?re===0&&(re=3):sl())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Bn(),Go(t,e),t===null&&Cr(e.stateNode.containerInfo),he(e),null;case 10:return za(e.type._context),he(e),null;case 17:return xe(e.type)&&zs(),he(e),null;case 19:if(V(K),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)nr(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gs(t),o!==null){for(e.flags|=128,nr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return F(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Fn&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return he(e),null}else 2*X()-i.renderingStartTime>Fn&&n!==1073741824&&(e.flags|=128,r=!0,nr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,n=K.current,F(K,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return rl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?je&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Nm(t,e){switch(Ua(e),e.tag){case 1:return xe(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bn(),V(ke),V(pe),qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(V(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(K),null;case 4:return Bn(),null;case 10:return za(e.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var ls=!1,fe=!1,Om=typeof WeakSet=="function"?WeakSet:Set,C=null;function Tn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Q(t,e,r)}else n.current=null}function Jo(t,e,n){try{n()}catch(r){Q(t,e,r)}}var yu=!1;function Rm(t,e){if(Ro=Us,t=td(),La(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:t,selectionRange:n},Us=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:He(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){Q(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=yu,yu=!1,y}function mr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jo(e,n,i)}s=s.next}while(s!==r)}}function gi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yd(t){var e=t.alternate;e!==null&&(t.alternate=null,Yd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[et],delete e[Nr],delete e[$o],delete e[pm],delete e[mm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xd(t){return t.tag===5||t.tag===3||t.tag===4}function wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bs));else if(r!==4&&(t=t.child,t!==null))for(Yo(t,e,n),t=t.sibling;t!==null;)Yo(t,e,n),t=t.sibling}function Xo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xo(t,e,n),t=t.sibling;t!==null;)Xo(t,e,n),t=t.sibling}var le=null,Ke=!1;function pt(t,e,n){for(n=n.child;n!==null;)Zd(t,e,n),n=n.sibling}function Zd(t,e,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(li,n)}catch{}switch(n.tag){case 5:fe||Tn(n,e);case 6:var r=le,s=Ke;le=null,pt(t,e,n),le=r,Ke=s,le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?Vi(t.parentNode,n):t.nodeType===1&&Vi(t,n),jr(t)):Vi(le,n.stateNode));break;case 4:r=le,s=Ke,le=n.stateNode.containerInfo,Ke=!0,pt(t,e,n),le=r,Ke=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jo(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!fe&&(Tn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Q(n,e,a)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,pt(t,e,n),fe=r):pt(t,e,n);break;default:pt(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Om),e.forEach(function(r){var s=zm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:le=a.stateNode,Ke=!1;break e;case 3:le=a.stateNode.containerInfo,Ke=!0;break e;case 4:le=a.stateNode.containerInfo,Ke=!0;break e}a=a.return}if(le===null)throw Error(E(160));Zd(i,o,s),le=null,Ke=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eh(e,t),e=e.sibling}function eh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),Xe(t),r&4){try{mr(3,t,t.return),gi(3,t)}catch(w){Q(t,t.return,w)}try{mr(5,t,t.return)}catch(w){Q(t,t.return,w)}}break;case 1:Fe(e,t),Xe(t),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(Fe(e,t),Xe(t),r&512&&n!==null&&Tn(n,n.return),t.flags&32){var s=t.stateNode;try{Sr(s,"")}catch(w){Q(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&kc(s,i),ko(a,o);var u=ko(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Tc(s,f):h==="dangerouslySetInnerHTML"?jc(s,f):h==="children"?Sr(s,f):ka(s,h,f,u)}switch(a){case"input":vo(s,i);break;case"textarea":xc(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Pn(s,!!i.multiple,m,!1):d!==!!i.multiple&&(i.defaultValue!=null?Pn(s,!!i.multiple,i.defaultValue,!0):Pn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nr]=i}catch(w){Q(t,t.return,w)}}break;case 6:if(Fe(e,t),Xe(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Q(t,t.return,w)}}break;case 3:if(Fe(e,t),Xe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jr(e.containerInfo)}catch(w){Q(t,t.return,w)}break;case 4:Fe(e,t),Xe(t);break;case 13:Fe(e,t),Xe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tl=X())),r&4&&_u(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(u=fe)||h,Fe(e,t),fe=u):Fe(e,t),Xe(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(C=t,h=t.child;h!==null;){for(f=C=h;C!==null;){switch(d=C,m=d.child,d.tag){case 0:case 11:case 14:case 15:mr(4,d,d.return);break;case 1:Tn(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Q(r,n,w)}}break;case 5:Tn(d,d.return);break;case 22:if(d.memoizedState!==null){ku(f);continue}}m!==null?(m.return=d,C=m):ku(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bc("display",o))}catch(w){Q(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Q(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fe(e,t),Xe(t),r&4&&_u(t);break;case 21:break;default:Fe(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sr(s,""),r.flags&=-33);var i=wu(t);Xo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wu(t);Yo(t,a,o);break;default:throw Error(E(161))}}catch(l){Q(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Am(t,e,n){C=t,th(t)}function th(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ls;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fe;a=ls;var u=fe;if(ls=o,(fe=l)&&!u)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?xu(s):l!==null?(l.return=o,C=l):xu(s);for(;i!==null;)C=i,th(i),i=i.sibling;C=s,ls=a,fe=u}Su(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):Su(t)}}function Su(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||gi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:He(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&jr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}fe||e.flags&512&&Qo(e)}catch(d){Q(e,e.return,d)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function ku(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function xu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gi(4,e)}catch(l){Q(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Q(e,s,l)}}var i=e.return;try{Qo(e)}catch(l){Q(e,i,l)}break;case 5:var o=e.return;try{Qo(e)}catch(l){Q(e,o,l)}}}catch(l){Q(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var Im=Math.ceil,Ys=ft.ReactCurrentDispatcher,Za=ft.ReactCurrentOwner,De=ft.ReactCurrentBatchConfig,U=0,oe=null,ee=null,ue=0,je=0,Cn=It(0),re=0,$r=null,sn=0,vi=0,el=0,gr=null,_e=null,tl=0,Fn=1/0,rt=null,Xs=!1,Zo=null,Ct=null,us=!1,kt=null,Zs=0,vr=0,ea=null,Ps=-1,Ns=0;function ve(){return U&6?X():Ps!==-1?Ps:Ps=X()}function Pt(t){return t.mode&1?U&2&&ue!==0?ue&-ue:vm.transition!==null?(Ns===0&&(Ns=Mc()),Ns):(t=M,t!==0||(t=window.event,t=t===void 0?16:qc(t.type)),t):1}function Qe(t,e,n,r){if(50<vr)throw vr=0,ea=null,Error(E(185));zr(t,n,r),(!(U&2)||t!==oe)&&(t===oe&&(!(U&2)&&(vi|=n),re===4&&wt(t,ue)),Ee(t,r),n===1&&U===0&&!(e.mode&1)&&(Fn=X()+500,fi&&Lt()))}function Ee(t,e){var n=t.callbackNode;vp(t,e);var r=$s(t,t===oe?ue:0);if(r===0)n!==null&&Rl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rl(n),e===1)t.tag===0?gm(Eu.bind(null,t)):dd(Eu.bind(null,t)),hm(function(){!(U&6)&&Lt()}),n=null;else{switch(Bc(r)){case 1:n=Ta;break;case 4:n=Uc;break;case 16:n=Ls;break;case 536870912:n=Dc;break;default:n=Ls}n=uh(n,nh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nh(t,e){if(Ps=-1,Ns=0,U&6)throw Error(E(327));var n=t.callbackNode;if(In()&&t.callbackNode!==n)return null;var r=$s(t,t===oe?ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ei(t,r);else{e=r;var s=U;U|=2;var i=sh();(oe!==t||ue!==e)&&(rt=null,Fn=X()+500,Zt(t,e));do try{Um();break}catch(a){rh(t,a)}while(!0);Ba(),Ys.current=i,U=s,ee!==null?e=0:(oe=null,ue=0,e=re)}if(e!==0){if(e===2&&(s=To(t),s!==0&&(r=s,e=ta(t,s))),e===1)throw n=$r,Zt(t,0),wt(t,r),Ee(t,X()),n;if(e===6)wt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Lm(s)&&(e=ei(t,r),e===2&&(i=To(t),i!==0&&(r=i,e=ta(t,i))),e===1))throw n=$r,Zt(t,0),wt(t,r),Ee(t,X()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Vt(t,_e,rt);break;case 3:if(wt(t,r),(r&130023424)===r&&(e=tl+500-X(),10<e)){if($s(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lo(Vt.bind(null,t,_e,rt),e);break}Vt(t,_e,rt);break;case 4:if(wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Je(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Im(r/1960))-r,10<r){t.timeoutHandle=Lo(Vt.bind(null,t,_e,rt),r);break}Vt(t,_e,rt);break;case 5:Vt(t,_e,rt);break;default:throw Error(E(329))}}}return Ee(t,X()),t.callbackNode===n?nh.bind(null,t):null}function ta(t,e){var n=gr;return t.current.memoizedState.isDehydrated&&(Zt(t,e).flags|=256),t=ei(t,e),t!==2&&(e=_e,_e=n,e!==null&&na(e)),t}function na(t){_e===null?_e=t:_e.push.apply(_e,t)}function Lm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wt(t,e){for(e&=~el,e&=~vi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Je(e),r=1<<n;t[n]=-1,e&=~r}}function Eu(t){if(U&6)throw Error(E(327));In();var e=$s(t,0);if(!(e&1))return Ee(t,X()),null;var n=ei(t,e);if(t.tag!==0&&n===2){var r=To(t);r!==0&&(e=r,n=ta(t,r))}if(n===1)throw n=$r,Zt(t,0),wt(t,e),Ee(t,X()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t,_e,rt),Ee(t,X()),null}function nl(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Fn=X()+500,fi&&Lt())}}function on(t){kt!==null&&kt.tag===0&&!(U&6)&&In();var e=U;U|=1;var n=De.transition,r=M;try{if(De.transition=null,M=1,t)return t()}finally{M=r,De.transition=n,U=e,!(U&6)&&Lt()}}function rl(){je=Cn.current,V(Cn)}function Zt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dm(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(Ua(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:Bn(),V(ke),V(pe),qa();break;case 5:Ha(r);break;case 4:Bn();break;case 13:V(K);break;case 19:V(K);break;case 10:za(r.type._context);break;case 22:case 23:rl()}n=n.return}if(oe=t,ee=t=Nt(t.current,null),ue=je=e,re=0,$r=null,el=vi=sn=0,_e=gr=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qt=null}return t}function rh(t,e){do{var n=ee;try{if(Ba(),bs.current=Qs,Js){for(var r=G.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Js=!1}if(rn=0,ie=ne=G=null,pr=!1,Ar=0,Za.current=null,n===null||n.return===null){re=1,$r=e,ee=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=du(o);if(m!==null){m.flags&=-257,hu(m,o,a,i,e),m.mode&1&&cu(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){cu(i,u,e),sl();break e}l=Error(E(426))}}else if(H&&a.mode&1){var S=du(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),hu(S,o,a,i,e),Da(zn(l,a));break e}}i=l=zn(l,a),re!==4&&(re=2),gr===null?gr=[i]:gr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Bd(i,l,e);su(i,g);break e;case 1:a=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ct===null||!Ct.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=zd(i,a,e);su(i,_);break e}}i=i.return}while(i!==null)}oh(n)}catch(k){e=k,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function sh(){var t=Ys.current;return Ys.current=Qs,t===null?Qs:t}function sl(){(re===0||re===3||re===2)&&(re=4),oe===null||!(sn&268435455)&&!(vi&268435455)||wt(oe,ue)}function ei(t,e){var n=U;U|=2;var r=sh();(oe!==t||ue!==e)&&(rt=null,Zt(t,e));do try{$m();break}catch(s){rh(t,s)}while(!0);if(Ba(),U=n,Ys.current=r,ee!==null)throw Error(E(261));return oe=null,ue=0,re}function $m(){for(;ee!==null;)ih(ee)}function Um(){for(;ee!==null&&!lp();)ih(ee)}function ih(t){var e=lh(t.alternate,t,je);t.memoizedProps=t.pendingProps,e===null?oh(t):ee=e,Za.current=null}function oh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nm(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,ee=null;return}}else if(n=Pm(n,e,je),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);re===0&&(re=5)}function Vt(t,e,n){var r=M,s=De.transition;try{De.transition=null,M=1,Dm(t,e,n,r)}finally{De.transition=s,M=r}return null}function Dm(t,e,n,r){do In();while(kt!==null);if(U&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yp(t,i),t===oe&&(ee=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||us||(us=!0,uh(Ls,function(){return In(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=M;M=1;var a=U;U|=4,Za.current=null,Rm(t,n),eh(n,t),sm(Ao),Us=!!Ro,Ao=Ro=null,t.current=n,Am(n),up(),U=a,M=o,De.transition=i}else t.current=n;if(us&&(us=!1,kt=t,Zs=s),i=t.pendingLanes,i===0&&(Ct=null),hp(n.stateNode),Ee(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xs)throw Xs=!1,t=Zo,Zo=null,t;return Zs&1&&t.tag!==0&&In(),i=t.pendingLanes,i&1?t===ea?vr++:(vr=0,ea=t):vr=0,Lt(),null}function In(){if(kt!==null){var t=Bc(Zs),e=De.transition,n=M;try{if(De.transition=null,M=16>t?16:t,kt===null)var r=!1;else{if(t=kt,kt=null,Zs=0,U&6)throw Error(E(331));var s=U;for(U|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(C=u;C!==null;){var h=C;switch(h.tag){case 0:case 11:case 15:mr(8,h,i)}var f=h.child;if(f!==null)f.return=h,C=f;else for(;C!==null;){h=C;var d=h.sibling,m=h.return;if(Yd(h),h===u){C=null;break}if(d!==null){d.return=m,C=d;break}C=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var p=t.current;for(C=p;C!==null;){o=C;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,C=v;else e:for(o=p;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gi(9,a)}}catch(k){Q(a,a.return,k)}if(a===o){C=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,C=_;break e}C=a.return}}if(U=s,Lt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(li,t)}catch{}r=!0}return r}finally{M=n,De.transition=e}}return!1}function ju(t,e,n){e=zn(n,e),e=Bd(t,e,1),t=Tt(t,e,1),e=ve(),t!==null&&(zr(t,1,e),Ee(t,e))}function Q(t,e,n){if(t.tag===3)ju(t,t,n);else for(;e!==null;){if(e.tag===3){ju(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ct===null||!Ct.has(r))){t=zn(n,t),t=zd(e,t,1),e=Tt(e,t,1),t=ve(),e!==null&&(zr(e,1,t),Ee(e,t));break}}e=e.return}}function Mm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>X()-tl?Zt(t,0):el|=n),Ee(t,e)}function ah(t,e){e===0&&(t.mode&1?(e=Zr,Zr<<=1,!(Zr&130023424)&&(Zr=4194304)):e=1);var n=ve();t=dt(t,e),t!==null&&(zr(t,e,n),Ee(t,n))}function Bm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ah(t,n)}function zm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),ah(t,n)}var lh;lh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ke.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,Cm(t,e,n);Se=!!(t.flags&131072)}else Se=!1,H&&e.flags&1048576&&hd(e,Vs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cs(t,e),t=e.pendingProps;var s=Un(e,pe.current);An(e,n),s=Ga(null,e,r,t,s,n);var i=Ja();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(i=!0,Fs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wa(e),s.updater=mi,e.stateNode=s,s._reactInternals=e,Fo(e,r,t,n),e=Ho(null,e,r,!0,i,n)):(e.tag=0,H&&i&&$a(e),me(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Wm(r),t=He(r,t),s){case 0:e=Vo(null,e,r,t,n);break e;case 1:e=mu(null,e,r,t,n);break e;case 11:e=fu(null,e,r,t,n);break e;case 14:e=pu(null,e,r,He(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Vo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),mu(t,e,r,s,n);case 3:e:{if(Hd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yd(t,e),Ks(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zn(Error(E(423)),e),e=gu(t,e,r,n,s);break e}else if(r!==s){s=zn(Error(E(424)),e),e=gu(t,e,r,n,s);break e}else for(Ce=bt(e.stateNode.containerInfo.firstChild),Pe=e,H=!0,Ge=null,n=gd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),r===s){e=ht(t,e,n);break e}me(t,e,r,n)}e=e.child}return e;case 5:return wd(e),t===null&&Mo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Io(r,s)?o=null:i!==null&&Io(r,i)&&(e.flags|=32),Vd(t,e),me(t,e,o,n),e.child;case 6:return t===null&&Mo(e),null;case 13:return qd(t,e,n);case 4:return Va(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mn(e,null,r,n):me(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),fu(t,e,r,s,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(Hs,r._currentValue),r._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!ke.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=lt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,An(e,n),s=Me(s),r=r(s),e.flags|=1,me(t,e,r,n),e.child;case 14:return r=e.type,s=He(r,e.pendingProps),s=He(r.type,s),pu(t,e,r,s,n);case 15:return Fd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Cs(t,e),e.tag=1,xe(r)?(t=!0,Fs(e)):t=!1,An(e,n),Md(e,r,s),Fo(e,r,s,n),Ho(null,e,r,!0,t,n);case 19:return Kd(t,e,n);case 22:return Wd(t,e,n)}throw Error(E(156,e.tag))};function uh(t,e){return $c(t,e)}function Fm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,n,r){return new Fm(t,e,n,r)}function il(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wm(t){if(typeof t=="function")return il(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ea)return 11;if(t===ja)return 14}return 2}function Nt(t,e){var n=t.alternate;return n===null?(n=Ue(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Os(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")il(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yn:return en(n.children,s,i,e);case xa:o=8,s|=8;break;case ho:return t=Ue(12,n,e,s|2),t.elementType=ho,t.lanes=i,t;case fo:return t=Ue(13,n,e,s),t.elementType=fo,t.lanes=i,t;case po:return t=Ue(19,n,e,s),t.elementType=po,t.lanes=i,t;case wc:return yi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vc:o=10;break e;case yc:o=9;break e;case Ea:o=11;break e;case ja:o=14;break e;case gt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ue(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function en(t,e,n,r){return t=Ue(7,t,r,e),t.lanes=n,t}function yi(t,e,n,r){return t=Ue(22,t,r,e),t.elementType=wc,t.lanes=n,t.stateNode={isHidden:!1},t}function Xi(t,e,n){return t=Ue(6,t,null,e),t.lanes=n,t}function Zi(t,e,n){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ol(t,e,n,r,s,i,o,a,l){return t=new Vm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(i),t}function Hm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ch(t){if(!t)return Rt;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(xe(n))return cd(t,n,e)}return e}function dh(t,e,n,r,s,i,o,a,l){return t=ol(n,r,!0,t,s,i,o,a,l),t.context=ch(null),n=t.current,r=ve(),s=Pt(n),i=lt(r,s),i.callback=e??null,Tt(n,i,s),t.current.lanes=s,zr(t,s,r),Ee(t,r),t}function wi(t,e,n,r){var s=e.current,i=ve(),o=Pt(s);return n=ch(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tt(s,e,o),t!==null&&(Qe(t,s,o,i),js(t,s,o)),o}function ti(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function al(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function qm(){return null}var hh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ll(t){this._internalRoot=t}_i.prototype.render=ll.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));wi(t,e,null,null)};_i.prototype.unmount=ll.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;on(function(){wi(null,t,null,null)}),e[ct]=null}};function _i(t){this._internalRoot=t}_i.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yt.length&&e!==0&&e<yt[n].priority;n++);yt.splice(n,0,t),n===0&&Hc(t)}};function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function Km(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ti(o);i.call(u)}}var o=dh(e,r,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[ct]=o.current,Cr(t.nodeType===8?t.parentNode:t),on(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ti(l);a.call(u)}}var l=ol(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=l,t[ct]=l.current,Cr(t.nodeType===8?t.parentNode:t),on(function(){wi(e,l,n,r)}),l}function ki(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ti(o);a.call(l)}}wi(e,o,t,s)}else o=Km(n,e,t,s,r);return ti(o)}zc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=or(e.pendingLanes);n!==0&&(Ca(e,n|1),Ee(e,X()),!(U&6)&&(Fn=X()+500,Lt()))}break;case 13:on(function(){var r=dt(t,1);if(r!==null){var s=ve();Qe(r,t,1,s)}}),al(t,1)}};Pa=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var n=ve();Qe(e,t,134217728,n)}al(t,134217728)}};Fc=function(t){if(t.tag===13){var e=Pt(t),n=dt(t,e);if(n!==null){var r=ve();Qe(n,t,e,r)}al(t,e)}};Wc=function(){return M};Vc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};Eo=function(t,e,n){switch(e){case"input":if(vo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hi(r);if(!s)throw Error(E(90));Sc(r),vo(r,s)}}}break;case"textarea":xc(t,n);break;case"select":e=n.value,e!=null&&Pn(t,!!n.multiple,e,!1)}};Nc=nl;Oc=on;var Gm={usingClientEntryPoint:!1,Events:[Wr,kn,hi,Cc,Pc,nl]},rr={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jm={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ic(t),t===null?null:t.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||qm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{li=cs.inject(Jm),tt=cs}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;Oe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ul(e))throw Error(E(200));return Hm(t,e,null,n)};Oe.createRoot=function(t,e){if(!ul(t))throw Error(E(299));var n=!1,r="",s=hh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ol(t,1,!1,null,null,n,!1,r,s),t[ct]=e.current,Cr(t.nodeType===8?t.parentNode:t),new ll(e)};Oe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Ic(e),t=t===null?null:t.stateNode,t};Oe.flushSync=function(t){return on(t)};Oe.hydrate=function(t,e,n){if(!Si(e))throw Error(E(200));return ki(null,t,e,!0,n)};Oe.hydrateRoot=function(t,e,n){if(!ul(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dh(e,null,t,1,n??null,s,!1,i,o),t[ct]=e.current,Cr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _i(e)};Oe.render=function(t,e,n){if(!Si(e))throw Error(E(200));return ki(null,t,e,!1,n)};Oe.unmountComponentAtNode=function(t){if(!Si(t))throw Error(E(40));return t._reactRootContainer?(on(function(){ki(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Oe.unstable_batchedUpdates=nl;Oe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Si(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return ki(t,e,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fh)}catch(t){console.error(t)}}fh(),fc.exports=Oe;var Qm=fc.exports,Cu=Qm;uo.createRoot=Cu.createRoot,uo.hydrateRoot=Cu.hydrateRoot;const Ym={"nav.features":{en:"Features",fr:"Fonctionnalits",th:""},"nav.countries":{en:"Countries",fr:"Pays",th:""},"nav.contact":{en:"Contact",fr:"Contact",th:""},"nav.getStarted":{en:"Get Started",fr:"Commencer",th:""},"nav.signOut":{en:"Sign Out",fr:"Se dconnecter",th:""},"nav.comingSoon":{en:"Coming soon",fr:"Bientt disponible",th:" "},"nav.contactUs":{en:"Contact Us",fr:"Nous contacter",th:""},"hero.title":{en:"Transfer Money Globally",fr:"Transfrer de l'argent dans le monde entier",th:""},"hero.subtitle":{en:"With Crypto Speed",fr:"Avec la vitesse crypto",th:""},"hero.description":{en:"Send money to France, America, and Thailand instantly using cryptocurrency. Fast, secure, and transparent international transfers.",fr:"Envoyez de l'argent en France, en Amrique et en Thalande instantanment en utilisant la crypto-monnaie. Transferts internationaux rapides, scuriss et transparents.",th:"     "},"hero.startTransfer":{en:"Start Transfer",fr:"Commencer le transfert",th:""},"hero.learnMore":{en:"Learn More",fr:"En savoir plus",th:""},"dashboard.title":{en:"Dashboard",fr:"Tableau de bord",th:""},"dashboard.transactions":{en:"Transactions",fr:"Transactions",th:""},"dashboard.settings":{en:"Settings",fr:"Paramtres",th:""},"dashboard.liveRates":{en:"Live Exchange Rates",fr:"Taux de change en direct",th:""},"dashboard.sendMoney":{en:"Send Money",fr:"Envoyer de l'argent",th:""},"dashboard.connectedAccounts":{en:"Connected Accounts",fr:"Comptes connects",th:""},"rates.loading":{en:"Loading exchange rates...",fr:"Chargement des taux de change...",th:"..."},"rates.lastUpdate":{en:"Last updated:",fr:"Dernire mise  jour:",th:":"},"transfer.cryptoTransfer":{en:"Crypto Transfer",fr:"Transfert crypto",th:""},"transfer.bankTransfer":{en:"Bank Transfer",fr:"Virement bancaire",th:""},"transfer.from":{en:"From",fr:"De",th:""},"transfer.selectSource":{en:"Select source",fr:"Slectionner la source",th:""},"transfer.to":{en:"To Wallet Address",fr:"Vers l'adresse du portefeuille",th:""},"transfer.toAccount":{en:"To Account",fr:"Vers le compte",th:""},"transfer.toPlaceholder":{en:"Account number or email",fr:"Numro de compte ou email",th:""},"transfer.amount":{en:"Amount",fr:"Montant",th:""},"transfer.currency":{en:"Currency",fr:"Devise",th:""},"transfer.send":{en:"Send Transfer",fr:"Envoyer",th:""},"transfer.processing":{en:"Processing...",fr:"Traitement en cours...",th:"..."},"transfer.success":{en:"Transfer initiated successfully!",fr:"Transfert initi avec succs!",th:"!"},"transfer.networkFee":{en:"Network Fee:",fr:"Frais de rseau:",th:":"},"transfer.estimatedTime":{en:"Estimated Time:",fr:"Temps estim:",th:":"},"wallet.title":{en:"Crypto Wallets",fr:"Portefeuilles crypto",th:""},"wallet.addWallet":{en:"+ Add Wallet",fr:"+ Ajouter un portefeuille",th:"+ "},"wallet.cancel":{en:"Cancel",fr:"Annuler",th:""},"wallet.connect":{en:"Connect Wallet",fr:"Connecter le portefeuille",th:""},"wallet.adding":{en:"Adding...",fr:"Ajout en cours...",th:"..."},"wallet.noWallets":{en:"No wallets connected",fr:"Aucun portefeuille connect",th:""},"wallet.type":{en:"Wallet Type",fr:"Type de portefeuille",th:""},"wallet.address":{en:"Wallet Address",fr:"Adresse du portefeuille",th:""},"bank.title":{en:"Bank Accounts",fr:"Comptes bancaires",th:""},"bank.addBank":{en:"+ Add Bank",fr:"+ Ajouter une banque",th:"+ "},"bank.connect":{en:"Connect Bank Account",fr:"Connecter le compte bancaire",th:""},"bank.adding":{en:"Adding...",fr:"Ajout en cours...",th:"..."},"bank.noAccounts":{en:"No bank accounts connected",fr:"Aucun compte bancaire connect",th:""},"bank.name":{en:"Bank Name",fr:"Nom de la banque",th:""},"bank.namePlaceholder":{en:"e.g., Chase, Bank of America",fr:"ex. BNP Paribas, Crdit Agricole",th:" , "},"bank.accountType":{en:"Account Type",fr:"Type de compte",th:""},"bank.checking":{en:"Checking",fr:"Courant",th:""},"bank.savings":{en:"Savings",fr:"pargne",th:""},"bank.accountNumber":{en:"Account Number",fr:"Numro de compte",th:""},"bank.accountPlaceholder":{en:"Enter account number",fr:"Entrez le numro de compte",th:""},"bank.securityNote":{en:"Only last 4 digits will be stored",fr:"Seuls les 4 derniers chiffres seront stocks",th:" 4 "},"common.remove":{en:"Remove",fr:"Supprimer",th:""},"features.title":{en:"Why Choose CoinVoy",fr:"Pourquoi choisir CoinVoy",th:" CoinVoy"},"features.fast.title":{en:"Lightning Fast",fr:"Ultra Rapide",th:""},"features.fast.description":{en:"Complete transfers in minutes, not days. Cryptocurrency enables instant cross-border transactions.",fr:"Effectuez des transferts en quelques minutes, pas en jours. La crypto-monnaie permet des transactions transfrontalires instantanes.",th:"  "},"features.lowFees.title":{en:"Low Fees",fr:"Frais rduits",th:""},"features.lowFees.description":{en:"Save on traditional banking fees. Our crypto-powered system keeps costs minimal.",fr:"conomisez sur les frais bancaires traditionnels. Notre systme aliment par la crypto maintient les cots au minimum.",th:" "},"features.secure.title":{en:"Secure & Transparent",fr:"Scuris et transparent",th:""},"features.secure.description":{en:"Track your transfer in real-time. Blockchain technology ensures security and transparency.",fr:"Suivez votre transfert en temps rel. La technologie blockchain garantit scurit et transparence.",th:" "},"features.simple.title":{en:"Simple Process",fr:"Processus simple",th:""},"features.simple.description":{en:"Easy to use interface. Send money in three simple steps without technical knowledge.",fr:"Interface facile  utiliser. Envoyez de l'argent en trois tapes simples sans connaissances techniques.",th:"  3  "},"countries.title":{en:"Supported Countries",fr:"Pays pris en charge",th:""},"countries.subtitle":{en:"Send money to these countries with ease",fr:"Envoyez de l'argent vers ces pays en toute simplicit",th:""},"countries.france.description":{en:"Fast transfers to all major French banks",fr:"Transferts rapides vers toutes les grandes banques franaises",th:""},"countries.usa.description":{en:"Instant deposits across the United States",fr:"Dpts instantans dans tous les tats-Unis",th:""},"countries.thailand.description":{en:"Quick and reliable transfers throughout Thailand",fr:"Transferts rapides et fiables dans toute la Thalande",th:""},"contact.title":{en:"Contact Us",fr:"Nous contacter",th:""},"contact.description":{en:"Fill out the form below and we'll get back to you soon.",fr:"Remplissez le formulaire ci-dessous et nous vous recontacterons bientt.",th:""},"contact.email":{en:"Email",fr:"Email",th:""},"contact.emailPlaceholder":{en:"your@email.com",fr:"votre@email.com",th:"email@.com"},"contact.phone":{en:"Phone Number",fr:"Numro de tlphone",th:""},"contact.phonePlaceholder":{en:"+1 (555) 000-0000",fr:"+33 6 00 00 00 00",th:"+66 8 0000 0000"},"contact.notes":{en:"Notes",fr:"Notes",th:""},"contact.notesPlaceholder":{en:"Tell us how we can help you...",fr:"Dites-nous comment nous pouvons vous aider...",th:"..."},"contact.sending":{en:"Sending...",fr:"Envoi en cours...",th:"..."},"contact.sendMessage":{en:"Send Message",fr:"Envoyer le message",th:""},"contact.success":{en:"Thank you! We'll be in touch soon.",fr:"Merci! Nous vous contacterons bientt.",th:"! "},"contact.error":{en:"Something went wrong. Please try again.",fr:"Quelque chose s'est mal pass. Veuillez ressayer.",th:" "},"cta.title":{en:"Ready to Start Transferring?",fr:"Prt  commencer les transferts?",th:"?"},"cta.description":{en:"Join thousands of users who trust CoinVoy for their international money transfers. Get started today and experience the future of cross-border payments.",fr:"Rejoignez des milliers d'utilisateurs qui font confiance  CoinVoy pour leurs transferts d'argent internationaux. Commencez aujourd'hui et dcouvrez l'avenir des paiements transfrontaliers.",th:" CoinVoy  "},"cta.button":{en:"Get Started Now",fr:"Commencer maintenant",th:""},"footer.privacy":{en:"Privacy Policy",fr:"Politique de confidentialit",th:""},"footer.terms":{en:"Terms of Service",fr:"Conditions d'utilisation",th:""},"footer.support":{en:"Support",fr:"Assistance",th:""},"footer.copyright":{en:" 2025 CoinVoy. All rights reserved.",fr:" 2025 CoinVoy. Tous droits rservs.",th:" 2025 CoinVoy "},"featuresNew.title":{en:"Powerful Features",fr:"Fonctionnalits puissantes",th:""},"featuresNew.description":{en:"Everything you need to manage your money globally",fr:"Tout ce dont vous avez besoin pour grer votre argent dans le monde entier",th:""},"featuresNew.instantTransfers.title":{en:"Instant Transfers",fr:"Transferts instantans",th:""},"featuresNew.instantTransfers.description":{en:"Send money globally in seconds with our lightning-fast transfer system. No more waiting days for your money to arrive.",fr:"Envoyez de l'argent dans le monde entier en quelques secondes avec notre systme de transfert ultra-rapide. Plus besoin d'attendre des jours pour que votre argent arrive.",th:" "},"featuresNew.multiCurrency.title":{en:"Multi-Currency Support",fr:"Prise en charge multi-devises",th:""},"featuresNew.multiCurrency.description":{en:"Support for over 150 currencies worldwide. Exchange between currencies with competitive rates instantly.",fr:"Prise en charge de plus de 150 devises dans le monde. changez entre devises avec des taux comptitifs instantanment.",th:" 150  "},"featuresNew.bankIntegration.title":{en:"Bank Integration",fr:"Intgration bancaire",th:""},"featuresNew.bankIntegration.description":{en:"Connect your bank accounts seamlessly. Link multiple accounts and manage all your finances in one place.",fr:"Connectez vos comptes bancaires en toute transparence. Liez plusieurs comptes et grez toutes vos finances en un seul endroit.",th:" "},"featuresNew.cryptoWallets.title":{en:"Crypto Wallets",fr:"Portefeuilles crypto",th:""},"featuresNew.cryptoWallets.description":{en:"Store and manage your cryptocurrency safely. Support for Bitcoin, Ethereum, and other major cryptocurrencies.",fr:"Stockez et grez votre crypto-monnaie en toute scurit. Prise en charge de Bitcoin, Ethereum et d'autres crypto-monnaies majeures.",th:"  Bitcoin, Ethereum "},"featuresNew.realTimeRates.title":{en:"Real-Time Exchange Rates",fr:"Taux de change en temps rel",th:""},"featuresNew.realTimeRates.description":{en:"Get live exchange rates updated every minute. Always know the exact amount you will receive.",fr:"Obtenez des taux de change en direct mis  jour chaque minute. Sachez toujours le montant exact que vous recevrez.",th:" "},"featuresNew.secureTransactions.title":{en:"Secure Transactions",fr:"Transactions scurises",th:""},"featuresNew.secureTransactions.description":{en:"Bank-level security with end-to-end encryption. Your money and data are always protected.",fr:"Scurit de niveau bancaire avec cryptage de bout en bout. Votre argent et vos donnes sont toujours protgs.",th:" "},"auth.createAccount":{en:"Create Account",fr:"Crer un compte",th:""},"auth.welcomeBack":{en:"Welcome Back",fr:"Bon retour",th:""},"auth.signUpDescription":{en:"Sign up to start transferring money globally",fr:"Inscrivez-vous pour commencer  transfrer de l'argent dans le monde entier",th:""},"auth.signInDescription":{en:"Sign in to continue your transfers",fr:"Connectez-vous pour continuer vos transferts",th:""},"auth.email":{en:"Email",fr:"Email",th:""},"auth.emailPlaceholder":{en:"your@email.com",fr:"votre@email.com",th:"@.com"},"auth.password":{en:"Password",fr:"Mot de passe",th:""},"auth.passwordPlaceholder":{en:"",fr:"",th:""},"auth.confirmPassword":{en:"Confirm Password",fr:"Confirmer le mot de passe",th:""},"auth.processing":{en:"Processing...",fr:"Traitement en cours...",th:"..."},"auth.signIn":{en:"Sign In",fr:"Se connecter",th:""},"auth.signUp":{en:"Sign Up",fr:"S'inscrire",th:""},"auth.alreadyHaveAccount":{en:"Already have an account?",fr:"Vous avez dj un compte?",th:"?"},"auth.dontHaveAccount":{en:"Don't have an account?",fr:"Vous n'avez pas de compte?",th:"?"},"auth.backHome":{en:" Back to Home",fr:" Retour  l'accueil",th:" "},"auth.passwordsDoNotMatch":{en:"Passwords do not match",fr:"Les mots de passe ne correspondent pas",th:""},"auth.accountCreated":{en:"Account created successfully!",fr:"Compte cr avec succs!",th:"!"},"auth.networkError":{en:"Network error. Please try again.",fr:"Erreur rseau. Veuillez ressayer.",th:" "}},ph=b.createContext(void 0);function Xm({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("language")||"en");b.useEffect(()=>{localStorage.setItem("language",e)},[e]);const r=i=>{n(i)},s=i=>{var o;return((o=Ym[i])==null?void 0:o[e])||i};return c.jsx(ph.Provider,{value:{language:e,setLanguage:r,t:s},children:t})}function ze(){const t=b.useContext(ph);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Zm({onClose:t}){const{t:e}=ze(),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(!1),[h,f]=b.useState("idle"),d=async m=>{m.preventDefault(),u(!0),f("idle");try{(await fetch("https://ldzqrvgkeizjxnbzbmya.supabase.co/rest/v1/contact_submissions",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxkenFydmdrZWl6anhuYnpibXlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NjE3MTEsImV4cCI6MjA3OTEzNzcxMX0.TMOIvRHZrupK58UPBvPGpc1nuyJI-7-bmlYusWRi7_k",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxkenFydmdrZWl6anhuYnpibXlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NjE3MTEsImV4cCI6MjA3OTEzNzcxMX0.TMOIvRHZrupK58UPBvPGpc1nuyJI-7-bmlYusWRi7_k"},body:JSON.stringify({email:n,phone:s,notes:o})})).ok?(f("success"),setTimeout(()=>{t()},2e3)):f("error")}catch{f("error")}finally{u(!1)}};return c.jsx("div",{className:"contact-modal-overlay",onClick:t,children:c.jsxs("div",{className:"contact-modal glass-card",onClick:m=>m.stopPropagation(),children:[c.jsx("button",{className:"modal-close",onClick:t,children:""}),c.jsx("h2",{className:"modal-title",children:e("contact.title")}),c.jsx("p",{className:"modal-description",children:e("contact.description")}),c.jsxs("form",{onSubmit:d,className:"contact-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:e("contact.email")}),c.jsx("input",{type:"email",id:"email",value:n,onChange:m=>r(m.target.value),required:!0,placeholder:e("contact.emailPlaceholder")})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"phone",children:e("contact.phone")}),c.jsx("input",{type:"tel",id:"phone",value:s,onChange:m=>i(m.target.value),required:!0,placeholder:e("contact.phonePlaceholder")})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"notes",children:e("contact.notes")}),c.jsx("textarea",{id:"notes",value:o,onChange:m=>a(m.target.value),required:!0,placeholder:e("contact.notesPlaceholder"),rows:5})]}),h==="success"&&c.jsx("div",{className:"submit-message success",children:e("contact.success")}),h==="error"&&c.jsx("div",{className:"submit-message error",children:e("contact.error")}),c.jsx("button",{type:"submit",className:"submit-button",disabled:l,children:e(l?"contact.sending":"contact.sendMessage")})]})]})})}function eg({onNavigateToAuth:t}){const{t:e,setLanguage:n}=ze(),[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef(null),[a,l]=b.useState({x:0,y:0}),[u,h]=b.useState({x:0,y:0}),[f,d]=b.useState(null),[m,y]=b.useState(!1),w=[{code:"en",name:"English",flag:""},{code:"fr",name:"Franais",flag:""},{code:"th",name:"",flag:""}];b.useEffect(()=>{const p=()=>{y(window.scrollY>20)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const S=p=>{if(!i.current)return;const v=i.current.getBoundingClientRect(),_=p.clientX-v.left,k=p.clientY-v.top;l({x:_,y:k})},g=p=>{if(!o.current)return;const v=o.current.getBoundingClientRect(),_=p.clientX-v.left,k=p.clientY-v.top;h({x:_,y:k})};return c.jsxs("section",{className:"hero",children:[c.jsx("nav",{className:`nav ${m?"nav-scrolled":""}`,children:c.jsxs("div",{className:"nav-container",children:[c.jsx("div",{className:"logo",children:"CoinVoy"}),c.jsxs("div",{className:"nav-links",children:[c.jsxs("div",{className:"nav-dropdown",onMouseEnter:()=>d("contact"),onMouseLeave:()=>d(null),children:[c.jsx("button",{className:"nav-link-button",children:e("nav.contact")}),f==="contact"&&c.jsx("div",{className:"dropdown-menu",children:c.jsx("button",{className:"dropdown-item",onClick:()=>s(!0),children:e("nav.contactUs")})})]}),c.jsxs("div",{className:"nav-dropdown",onMouseEnter:()=>d("language"),onMouseLeave:()=>d(null),children:[c.jsx("button",{className:"nav-link-button language-icon-button",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}),f==="language"&&c.jsx("div",{className:"dropdown-menu",children:w.map(p=>c.jsxs("button",{className:"dropdown-item",onClick:()=>n(p.code),children:[c.jsx("span",{className:"dropdown-flag",children:p.flag}),p.name]},p.code))})]}),c.jsx("button",{ref:o,className:"nav-button",onClick:t,onMouseMove:g,style:{"--x":`${u.x}px`,"--y":`${u.y}px`},children:e("nav.getStarted")})]})]})}),c.jsxs("div",{className:"hero-content",children:[c.jsxs("h1",{className:"hero-title",children:[e("hero.title"),c.jsx("br",{}),c.jsx("span",{className:"gradient-text",children:e("hero.subtitle")})]}),c.jsx("p",{className:"hero-description",children:e("hero.description")}),c.jsxs("div",{className:"hero-buttons",children:[c.jsx("button",{ref:i,className:"primary-button",onClick:t,onMouseMove:S,style:{"--x":`${a.x}px`,"--y":`${a.y}px`},children:e("hero.startTransfer")}),c.jsx("button",{className:"secondary-button glass-card",children:e("hero.learnMore")})]})]}),r&&c.jsx(Zm,{onClose:()=>s(!1)})]})}function tg(){const{t}=ze(),e=[{title:t("featuresNew.instantTransfers.title"),description:t("featuresNew.instantTransfers.description")},{title:t("featuresNew.multiCurrency.title"),description:t("featuresNew.multiCurrency.description")},{title:t("featuresNew.bankIntegration.title"),description:t("featuresNew.bankIntegration.description")},{title:t("featuresNew.cryptoWallets.title"),description:t("featuresNew.cryptoWallets.description")},{title:t("featuresNew.realTimeRates.title"),description:t("featuresNew.realTimeRates.description")},{title:t("featuresNew.secureTransactions.title"),description:t("featuresNew.secureTransactions.description")}],n=b.useRef([]),[r,s]=b.useState(e.map(()=>({x:0,y:0}))),i=(o,a)=>{const l=n.current[a];if(!l)return;const u=l.getBoundingClientRect(),h=o.clientX-u.left,f=o.clientY-u.top;s(d=>{const m=[...d];return m[a]={x:h,y:f},m})};return c.jsx("section",{id:"features",className:"features",children:c.jsxs("div",{className:"features-container",children:[c.jsx("h2",{className:"section-title",children:t("featuresNew.title")}),c.jsx("p",{className:"section-description",children:t("featuresNew.description")}),c.jsx("div",{className:"features-grid",children:e.map((o,a)=>c.jsxs("div",{ref:l=>n.current[a]=l,className:"feature-card glass-card",onMouseMove:l=>i(l,a),style:{"--x":`${r[a].x}px`,"--y":`${r[a].y}px`},children:[c.jsx("h3",{className:"feature-title",children:o.title}),c.jsx("p",{className:"feature-description",children:o.description})]},a))})]})})}function ng(){const{t}=ze(),[e,n]=b.useState(null),r=[{id:"france",name:"France",flag:"",currency:"EUR",description:t("countries.france.description")},{id:"usa",name:"United States",flag:"",currency:"USD",description:t("countries.usa.description")},{id:"thailand",name:"Thailand",flag:"",currency:"THB",description:t("countries.thailand.description")}];return c.jsx("section",{id:"countries",className:"countries",children:c.jsxs("div",{className:"countries-container",children:[c.jsx("h2",{className:"section-title",children:t("countries.title")}),c.jsx("p",{className:"countries-subtitle",children:t("countries.subtitle")}),c.jsx("div",{className:"countries-grid",children:r.map(s=>c.jsxs("div",{className:`country-card glass-card ${e===s.id?"active":""}`,onMouseEnter:()=>n(s.id),onMouseLeave:()=>n(null),children:[c.jsx("div",{className:"country-card-flag",children:s.flag}),c.jsx("h3",{className:"country-card-name",children:s.name}),c.jsx("div",{className:"country-card-currency",children:s.currency}),c.jsx("p",{className:"country-card-description",children:s.description})]},s.id))})]})})}function rg({onClose:t}){return c.jsx("div",{className:"legal-overlay",children:c.jsxs("div",{className:"legal-modal",children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:"Privacy Policy"}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"legal-content",children:[c.jsx("p",{className:"legal-updated",children:"Last Updated: November 19, 2025"}),c.jsxs("section",{children:[c.jsx("h2",{children:"1. Information We Collect"}),c.jsx("p",{children:"We collect information that you provide directly to us, including:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Account information (name, email address)"}),c.jsx("li",{children:"Transaction data and payment information"}),c.jsx("li",{children:"Communication preferences"}),c.jsx("li",{children:"Device and usage information"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"2. How We Use Your Information"}),c.jsx("p",{children:"We use the information we collect to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Provide, maintain, and improve our services"}),c.jsx("li",{children:"Process your transactions and send related information"}),c.jsx("li",{children:"Send you technical notices and support messages"}),c.jsx("li",{children:"Respond to your comments and questions"}),c.jsx("li",{children:"Protect against fraudulent or illegal activity"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"3. Information Sharing"}),c.jsx("p",{children:"We do not sell your personal information. We may share your information only in the following circumstances:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"With your consent"}),c.jsx("li",{children:"To comply with legal obligations"}),c.jsx("li",{children:"To protect our rights and prevent fraud"}),c.jsx("li",{children:"With service providers who assist our operations"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"4. Data Security"}),c.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"5. Your Rights"}),c.jsx("p",{children:"You have the right to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Access your personal information"}),c.jsx("li",{children:"Correct inaccurate data"}),c.jsx("li",{children:"Request deletion of your data"}),c.jsx("li",{children:"Object to data processing"}),c.jsx("li",{children:"Data portability"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"6. Cookies"}),c.jsx("p",{children:"We use cookies and similar tracking technologies to collect information about your browsing activities and to provide personalized content and advertising."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"7. International Data Transfers"}),c.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"8. Children's Privacy"}),c.jsx("p",{children:"Our services are not intended for children under 18. We do not knowingly collect personal information from children."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"9. Changes to This Policy"}),c.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"10. Contact Us"}),c.jsx("p",{children:"If you have questions about this Privacy Policy, please contact us at:"}),c.jsx("p",{className:"contact-info",children:"privacy@coinvoy.com"})]})]})]})})}function sg({onClose:t}){return c.jsx("div",{className:"legal-overlay",children:c.jsxs("div",{className:"legal-modal",children:[c.jsxs("div",{className:"legal-header",children:[c.jsx("h1",{children:"Terms of Service"}),c.jsx("button",{className:"close-btn",onClick:t,children:""})]}),c.jsxs("div",{className:"legal-content",children:[c.jsx("p",{className:"legal-updated",children:"Last Updated: November 19, 2025"}),c.jsxs("section",{children:[c.jsx("h2",{children:"1. Acceptance of Terms"}),c.jsx("p",{children:"By accessing and using CoinVoy, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"2. Description of Service"}),c.jsx("p",{children:"CoinVoy provides a platform for international money transfers and currency exchange. Our services include:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Currency exchange and conversion"}),c.jsx("li",{children:"International money transfers"}),c.jsx("li",{children:"Cryptocurrency wallet integration"}),c.jsx("li",{children:"Bank account linking"}),c.jsx("li",{children:"Transaction history and reporting"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"3. User Account"}),c.jsx("p",{children:"To use our services, you must:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Be at least 18 years old"}),c.jsx("li",{children:"Provide accurate and complete information"}),c.jsx("li",{children:"Maintain the security of your account credentials"}),c.jsx("li",{children:"Notify us immediately of any unauthorized access"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"4. Fees and Payments"}),c.jsx("p",{children:"You agree to pay all applicable fees for transactions. Fees are displayed before you complete a transaction. We reserve the right to change our fee structure with notice."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"5. Transaction Limits"}),c.jsx("p",{children:"We may impose transaction limits based on verification level, transaction history, and other risk factors. These limits are subject to change."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"6. Prohibited Activities"}),c.jsx("p",{children:"You agree not to:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Use the service for illegal activities"}),c.jsx("li",{children:"Violate any laws or regulations"}),c.jsx("li",{children:"Impersonate any person or entity"}),c.jsx("li",{children:"Interfere with or disrupt the service"}),c.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),c.jsx("li",{children:"Engage in money laundering or terrorist financing"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"7. Compliance and Verification"}),c.jsx("p",{children:"We are required to comply with Know Your Customer (KYC) and Anti-Money Laundering (AML) regulations. You agree to provide necessary documentation for verification purposes."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"8. Liability Limitation"}),c.jsx("p",{children:"To the maximum extent permitted by law, CoinVoy shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of the service."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"9. Dispute Resolution"}),c.jsx("p",{children:"Any disputes arising from these terms shall be resolved through binding arbitration in accordance with applicable laws."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"10. Service Modifications"}),c.jsx("p",{children:"We reserve the right to modify or discontinue the service at any time, with or without notice. We shall not be liable for any modification, suspension, or discontinuation of the service."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"11. Intellectual Property"}),c.jsx("p",{children:"All content, trademarks, and intellectual property on CoinVoy are owned by or licensed to us. You may not use our intellectual property without prior written permission."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"12. Termination"}),c.jsx("p",{children:"We may terminate or suspend your account immediately, without prior notice, for any breach of these Terms of Service."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"13. Governing Law"}),c.jsx("p",{children:"These Terms shall be governed by and construed in accordance with applicable laws, without regard to conflict of law provisions."})]}),c.jsxs("section",{children:[c.jsx("h2",{children:"14. Contact Information"}),c.jsx("p",{children:"For questions about these Terms of Service, contact us at:"}),c.jsx("p",{className:"contact-info",children:"legal@coinvoy.com"})]})]})]})})}function ig({onNavigateToAuth:t}){const{t:e}=ze(),n=b.useRef(null),[r,s]=b.useState({x:0,y:0}),[i,o]=b.useState(!1),[a,l]=b.useState(!1),u=h=>{if(!n.current)return;const f=n.current.getBoundingClientRect(),d=h.clientX-f.left,m=h.clientY-f.top;s({x:d,y:m})};return c.jsxs(c.Fragment,{children:[i&&c.jsx(rg,{onClose:()=>o(!1)}),a&&c.jsx(sg,{onClose:()=>l(!1)}),c.jsxs("section",{id:"contact",className:"cta",children:[c.jsxs("div",{className:"cta-container glass-card",children:[c.jsx("h2",{className:"cta-title",children:e("cta.title")}),c.jsx("p",{className:"cta-description",children:e("cta.description")}),c.jsx("button",{ref:n,className:"cta-button",onClick:t,onMouseMove:u,style:{"--x":`${r.x}px`,"--y":`${r.y}px`},children:e("cta.button")})]}),c.jsx("footer",{className:"footer",children:c.jsxs("div",{className:"footer-content",children:[c.jsx("div",{className:"footer-logo",children:"CoinVoy"}),c.jsxs("div",{className:"footer-links",children:[c.jsx("button",{onClick:()=>o(!0),className:"footer-link-button",children:e("footer.privacy")}),c.jsx("button",{onClick:()=>l(!0),className:"footer-link-button",children:e("footer.terms")}),c.jsx("a",{href:"#support",children:e("footer.support")})]}),c.jsx("p",{className:"footer-copyright",children:e("footer.copyright")})]})})]})]})}var ra=function(t,e){return ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ra(t,e)};function mh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ra(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ni=function(){return ni=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ni.apply(this,arguments)};function Kn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gh(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function vh(t,e){return function(n,r){e(n,r,t)}}function yh(t,e,n,r,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,d=!1,m=n.length-1;m>=0;m--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var S=(0,n[m])(a==="accessor"?{get:h.get,set:h.set}:h[l],y);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=o(S.get))&&(h.get=f),(f=o(S.set))&&(h.set=f),(f=o(S.init))&&s.unshift(f)}else(f=o(S))&&(a==="field"?s.unshift(f):h[l]=f)}u&&Object.defineProperty(u,r.name,h),d=!0}function wh(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function _h(t){return typeof t=="symbol"?t:"".concat(t)}function Sh(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function kh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function l(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function xh(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var xi=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Eh(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&xi(e,t,n)}function ri(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function jh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cl(arguments[e]));return t}function bh(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Th(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Wn(t){return this instanceof Wn?(this.v=t,this):new Wn(t)}function Ch(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function a(m,y){r[m]&&(s[m]=function(w){return new Promise(function(S,g){i.push([m,w,S,g])>1||l(m,w)})},y&&(s[m]=y(s[m])))}function l(m,y){try{u(r[m](y))}catch(w){d(i[0][3],w)}}function u(m){m.value instanceof Wn?Promise.resolve(m.value.v).then(h,f):d(i[0][2],m)}function h(m){l("next",m)}function f(m){l("throw",m)}function d(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ph(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Wn(t[s](o)),done:!1}:i?i(o):o}:i}}function Nh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ri=="function"?ri(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Oh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var og=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},sa=function(t){return sa=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},sa(t)};function Rh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=sa(t),r=0;r<n.length;r++)n[r]!=="default"&&xi(e,t,n[r]);return og(e,t),e}function Ah(t){return t&&t.__esModule?t:{default:t}}function Ih(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Lh(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function $h(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Uh(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var ag=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Dh(t){function e(i){t.error=t.hasError?new ag(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Mh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const lg={__extends:mh,__assign:ni,__rest:Kn,__decorate:gh,__param:vh,__esDecorate:yh,__runInitializers:wh,__propKey:_h,__setFunctionName:Sh,__metadata:kh,__awaiter:N,__generator:xh,__createBinding:xi,__exportStar:Eh,__values:ri,__read:cl,__spread:jh,__spreadArrays:bh,__spreadArray:Th,__await:Wn,__asyncGenerator:Ch,__asyncDelegator:Ph,__asyncValues:Nh,__makeTemplateObject:Oh,__importStar:Rh,__importDefault:Ah,__classPrivateFieldGet:Ih,__classPrivateFieldSet:Lh,__classPrivateFieldIn:$h,__addDisposableResource:Uh,__disposeResources:Dh,__rewriteRelativeImportExtension:Mh},ug=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Uh,get __assign(){return ni},__asyncDelegator:Ph,__asyncGenerator:Ch,__asyncValues:Nh,__await:Wn,__awaiter:N,__classPrivateFieldGet:Ih,__classPrivateFieldIn:$h,__classPrivateFieldSet:Lh,__createBinding:xi,__decorate:gh,__disposeResources:Dh,__esDecorate:yh,__exportStar:Eh,__extends:mh,__generator:xh,__importDefault:Ah,__importStar:Rh,__makeTemplateObject:Oh,__metadata:kh,__param:vh,__propKey:_h,__read:cl,__rest:Kn,__rewriteRelativeImportExtension:Mh,__runInitializers:wh,__setFunctionName:Sh,__spread:jh,__spreadArray:Th,__spreadArrays:bh,__values:ri,default:lg},Symbol.toStringTag,{value:"Module"})),cg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dg extends dl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pu extends dl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nu extends dl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ia||(ia={}));class hg{constructor(e,{headers:n={},customFetch:r,region:s=ia.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=cg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return N(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:h,timeout:f}=r;let d={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(d["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(d["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(d["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let S=h;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:w,signal:S}).catch(k=>{throw new dg(k)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Pu(g);if(!g.ok)throw new Nu(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield g.json():v==="application/octet-stream"||v==="application/pdf"?_=yield g.blob():v==="text/event-stream"?_=g:v==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Nu||a instanceof Pu?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var ge={};const Gn=xf(ug);var ds={},hs={},fs={},ps={},ms={},gs={},Ou;function Bh(){if(Ou)return gs;Ou=1,Object.defineProperty(gs,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return gs.default=t,gs}var Ru;function zh(){if(Ru)return ms;Ru=1,Object.defineProperty(ms,"__esModule",{value:!0});const e=Gn.__importDefault(Bh());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,h,f,d;let m=null,y=null,w=null,S=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=k:y=JSON.parse(k))}const v=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,S=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{m=JSON.parse(v),Array.isArray(m)&&l.status===404&&(y=[],m=null,S=200,g="OK")}catch{l.status===404&&v===""?(S=204,g="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((d=m==null?void 0:m.details)===null||d===void 0)&&d.includes("0 rows"))&&(m=null,S=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:S,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,h,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return ms.default=n,ms}var Au;function Fh(){if(Au)return ps;Au=1,Object.defineProperty(ps,"__esModule",{value:!0});const e=Gn.__importDefault(zh());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var h;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ps.default=n,ps}var Iu;function hl(){if(Iu)return fs;Iu=1,Object.defineProperty(fs,"__esModule",{value:!0});const e=Gn.__importDefault(Fh()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return fs.default=r,fs}var Lu;function Wh(){if(Lu)return hs;Lu=1,Object.defineProperty(hs,"__esModule",{value:!0});const e=Gn.__importDefault(hl());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",h),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(f.length>0){const d=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return hs.default=n,hs}var $u;function fg(){if($u)return ds;$u=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Gn,e=t.__importDefault(Wh()),n=t.__importDefault(hl());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var h;let f;const d=new URL(`${this.url}/rpc/${i}`);let m;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{d.searchParams.append(w,S)})):(f="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:f,url:d,headers:y,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ds.default=r,ds}Object.defineProperty(ge,"__esModule",{value:!0});var Vh=ge.PostgrestError=ef=ge.PostgrestBuilder=Xh=ge.PostgrestTransformBuilder=Qh=ge.PostgrestFilterBuilder=Gh=ge.PostgrestQueryBuilder=qh=ge.PostgrestClient=void 0;const Jn=Gn,Hh=Jn.__importDefault(fg());var qh=ge.PostgrestClient=Hh.default;const Kh=Jn.__importDefault(Wh());var Gh=ge.PostgrestQueryBuilder=Kh.default;const Jh=Jn.__importDefault(hl());var Qh=ge.PostgrestFilterBuilder=Jh.default;const Yh=Jn.__importDefault(Fh());var Xh=ge.PostgrestTransformBuilder=Yh.default;const Zh=Jn.__importDefault(zh());var ef=ge.PostgrestBuilder=Zh.default;const tf=Jn.__importDefault(Bh());Vh=ge.PostgrestError=tf.default;var nf=ge.default={PostgrestClient:Hh.default,PostgrestQueryBuilder:Kh.default,PostgrestFilterBuilder:Jh.default,PostgrestTransformBuilder:Yh.default,PostgrestBuilder:Zh.default,PostgrestError:tf.default};const pg=Sf({__proto__:null,get PostgrestBuilder(){return ef},get PostgrestClient(){return qh},get PostgrestError(){return Vh},get PostgrestFilterBuilder(){return Qh},get PostgrestQueryBuilder(){return Gh},get PostgrestTransformBuilder(){return Xh},default:nf},[ge]),{PostgrestClient:mg,PostgrestQueryBuilder:Uy,PostgrestFilterBuilder:Dy,PostgrestTransformBuilder:My,PostgrestBuilder:By,PostgrestError:zy}=nf||pg;class gg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vg="2.81.1",yg=`realtime-js/${vg}`,rf="1.0.0",wg="2.0.0",Uu=rf,oa=1e4,_g=1e3,Sg=100;var qt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qt||(qt={}));var te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(te||(te={}));var Ie;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ie||(Ie={}));var aa;(function(t){t.websocket="websocket"})(aa||(aa={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class kg{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+n.length+r.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),h=0;u.setUint8(h++,this.KINDS.push),u.setUint8(h++,n.length),u.setUint8(h++,r.length),u.setUint8(h++,i.length),u.setUint8(h++,s.length),Array.from(n,d=>u.setUint8(h++,d.charCodeAt(0))),Array.from(r,d=>u.setUint8(h++,d.charCodeAt(0))),Array.from(i,d=>u.setUint8(h++,d.charCodeAt(0))),Array.from(s,d=>u.setUint8(h++,d.charCodeAt(0)));var f=new Uint8Array(l.byteLength+o.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(o),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(h),d=0;f.setUint8(d++,this.KINDS.userBroadcastPush),f.setUint8(d++,s.length),f.setUint8(d++,i.length),f.setUint8(d++,o.length),f.setUint8(d++,a.length),f.setUint8(d++,this.BINARY_ENCODING),Array.from(s,y=>f.setUint8(d++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(d++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(d++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(d++,y.charCodeAt(0)));var m=new Uint8Array(h.byteLength+l.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(l),h.byteLength),m.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(d),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,s.length),m.setUint8(y++,i.length),m.setUint8(y++,o.length),m.setUint8(y++,a.length),m.setUint8(y++,this.JSON_ENCODING),Array.from(s,S=>m.setUint8(y++,S.charCodeAt(0))),Array.from(i,S=>m.setUint8(y++,S.charCodeAt(0))),Array.from(o,S=>m.setUint8(y++,S.charCodeAt(0))),Array.from(a,S=>m.setUint8(y++,S.charCodeAt(0)));var w=new Uint8Array(d.byteLength+h.byteLength);return w.set(new Uint8Array(d),0),w.set(new Uint8Array(h),d.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const u=r.decode(e.slice(a,a+i));a=a+i;const h=r.decode(e.slice(a,a+o));a=a+o;const f=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:h,payload:f}}_decodeReply(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const m=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:d,response:m};return{join_ref:u,ref:h,topic:f,event:Ie.reply,payload:y}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,y={type:this.BROADCAST,event:h,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class sf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Du=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=xg(o,t,e,s),i),{}):{}},xg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?of(i,o):la(o)},of=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Tg(e,n)}switch(t){case B.bool:return Eg(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return jg(e);case B.json:case B.jsonb:return bg(e);case B.timestamp:return Cg(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return la(e);default:return la(e)}},la=t=>t,Eg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Tg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>of(e,a))}return t},Cg=t=>typeof t=="string"?t.replace(" ","T"):t,af=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class eo{constructor(e,n,r={},s=oa){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mu||(Mu={}));class yr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=yr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,h)=>{o[u]||(l[u]=h)}),this.map(o,(u,h)=>{const f=i[u];if(f){const d=h.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),y=h.filter(S=>m.indexOf(S.presence_ref)<0),w=f.filter(S=>d.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=h}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const h=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),h.length>0){const f=e[a].map(m=>m.presence_ref),d=h.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...d)}r(a,h,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const h=l.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bu||(Bu={}));var wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wr||(wr={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class fl{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eo(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new yr(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[wr.PRESENCE]&&this.bindings[wr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(st.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(st.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(st.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<S;p++){const v=w[p],{filter:{event:_,schema:k,table:x,filter:j}}=v,T=m&&m[p];if(T&&T.event===_&&T.schema===k&&T.table===x&&T.filter===j)g.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),this.state=te.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(st.SUBSCRIBED);return}}).receive("error",m=>{this.state=te.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===te.joined&&e===wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new eo(this,Ie.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=te.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new eo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Sg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:h}=Ie;if(r&&[a,l,u,h].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,S;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(w=m.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,S,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,k=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:w,table:S,commit_timestamp:g,type:p,errors:v}=y;d=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(d,r)})}_isClosed(){return this.state===te.closed}_isJoined(){return this.state===te.joined}_isJoining(){return this.state===te.joining}_isLeaving(){return this.state===te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&fl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ie.close,{},e)}_onError(e){this._on(Ie.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Du(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Du(e.columns,e.old_record)),n}}const to=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pg=[1e3,2e3,5e3,1e4],Ng=1e4,Og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oa,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=to,this.ref=0,this.reconnectTimer=null,this.vsn=Uu,this.logger=to,this.conn=null,this.sendBuffer=[],this.serializer=new kg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${aa.websocket}`,this.httpEndpoint=af(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qt.connecting:return Kt.Connecting;case qt.open:return Kt.Open;case qt.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new fl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_g,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===qt.open||this.conn.readyState===qt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ie.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Og],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:yg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ie.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,h,f,d,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:oa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:vs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:to,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Uu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>Pg[y-1]||Ng,this.vsn){case rf:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(y,w)=>w(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case wg:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class pl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function q(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ag extends pl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ua extends pl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const ml=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ig=()=>Response,ca=t=>{if(Array.isArray(t))return t.map(n=>ca(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ca(r)}),e},Lg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},no=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},$g=(t,e,n)=>N(void 0,void 0,void 0,function*(){const r=yield Ig();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ag(no(s),i,o))}).catch(s=>{e(new ua(no(s),s))}):e(new ua(no(t),t))}),Ug=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Lg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Hr(t,e,n,r,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ug(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>$g(l,a,r))})})}function Ur(t,e,n,r){return N(this,void 0,void 0,function*(){return Hr(t,"GET",e,n,r)})}function qe(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Hr(t,"POST",e,r,s,n)})}function da(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Hr(t,"PUT",e,r,s,n)})}function Dg(t,e,n,r){return N(this,void 0,void 0,function*(){return Hr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gl(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Hr(t,"DELETE",e,r,s,n)})}class Mg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(q(e))return{data:null,error:e};throw e}})}}var lf;class Bg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[lf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mg(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return N(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(q(e))return{data:null,error:e};throw e}})}}lf=Symbol.toStringTag;const zg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ml(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return N(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),f=yield(e=="PUT"?da:qe)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(q(i))return{data:null,error:i};throw i}})}upload(e,n,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return N(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:zu.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield da(this.fetch,a.toString(),l,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(q(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return N(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield qe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new pl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}update(e,n,r){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}copy(e,n,r){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield qe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return N(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield qe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return N(this,void 0,void 0,function*(){try{const s=yield qe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Ur(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Bg(l,this.shouldThrowOnError)}info(e){return N(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ur(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ca(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}exists(e){return N(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Dg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r)&&r instanceof ua){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return N(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}list(e,n,r){return N(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zg),n),{prefix:e||""});return{data:yield qe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}listV2(e,n){return N(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield qe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const uf="2.81.1",cf={"X-Client-Info":`storage-js/${uf}`};class Wg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cf),n),this.fetch=ml(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return N(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ur(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}createBucket(e){return N(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(q(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return N(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(q(r))return{data:null,error:r};throw r}})}emptyBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Vg{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cf),n),this.fetch=ml(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}listBuckets(e){return N(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Ur(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(q(n))return{data:null,error:n};throw n}})}}const vl={"X-Client-Info":`storage-js/${uf}`,"Content-Type":"application/json"};class df extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ro extends df{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hg extends df{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Fu;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fu||(Fu={}));const yl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Wu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kg=(t,e,n)=>N(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new ro(Wu(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new ro(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new ro(a,s,o))}}else e(new Hg(Wu(t),t))}),Gg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(qg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function Jg(t,e,n,r,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Gg(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Kg(l,a,r))})})}function Te(t,e,n,r,s){return N(this,void 0,void 0,function*(){return Jg(t,"POST",e,r,s,n)})}class Qg{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return N(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}getIndex(e,n){return N(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}listIndexes(e){return N(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return N(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}}class Yg{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return N(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Te(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}getVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}listVectors(e){return N(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Te(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}queryVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}deleteVectors(e){return N(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Te(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}}class Xg{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vl),n),this.fetch=yl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}listBuckets(){return N(this,arguments,void 0,function*(e={}){try{return{data:yield Te(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield Te(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}}class Zg extends Xg{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new ev(this.url,this.headers,e,this.fetch)}}class ev extends Qg{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return N(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return N(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return N(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return N(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new tv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class tv extends Yg{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return N(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return N(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return N(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return N(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return N(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nv extends Wg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Fg(this.url,this.headers,e,this.fetch)}get vectors(){return new Zg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vg(this.url+"/iceberg",this.headers,this.fetch)}}const rv="2.81.1";let lr="";typeof Deno<"u"?lr="deno":typeof document<"u"?lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lr="react-native":lr="node";const sv={"X-Client-Info":`supabase-js-${lr}/${rv}`},iv={headers:sv},ov={schema:"public"},av={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lv={},uv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cv=()=>Headers,dv=(t,e,n)=>{const r=uv(n),s=cv();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function hv(t){return t.endsWith("/")?t:t+"/"}function fv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:h,global:f}=e,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function pv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hf="2.81.1",mn=30*1e3,ha=3,so=ha*mn,mv="http://localhost:9999",gv="supabase.auth.token",vv={"X-Client-Info":`gotrue-js/${hf}`},fa="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wv=10*60*1e3;class Dr extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _v extends Dr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Sv(t){return O(t)&&t.name==="AuthApiError"}class Gt extends Dr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $t extends Dr{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class We extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kv(t){return O(t)&&t.name==="AuthSessionMissingError"}class cn extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ws extends $t{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xv(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vu extends $t{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pa extends $t{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function io(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Hu extends $t{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ma extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qu=` 	
\r=`.split(""),Ev=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qu.length;e+=1)t[qu[e].charCodeAt(0)]=-2;for(let e=0;e<si.length;e+=1)t[si[e].charCodeAt(0)]=e;return t})();function Ku(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(si[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(si[r]),e.queuedBits-=6}}function pf(t,e,n){const r=Ev[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Gu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Tv(o,r,n)};for(let o=0;o<t.length;o+=1)pf(t.charCodeAt(o),s,i);return e.join("")}function jv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}jv(r,e)}}function Tv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ln(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)pf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Cv(t){const e=[];return bv(t,n=>e.push(n)),new Uint8Array(e)}function Xt(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ku(s,n,r)),Ku(null,n,r),e.join("")}function Pv(t){return Math.round(Date.now()/1e3)+t}function Nv(){return Symbol("auth-callback")}const ae=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},mf=()=>{if(!ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Ov(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const gf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ft=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class Ei{constructor(){this.promise=new Ei.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ei.promiseConstructor=Promise;function oo(t){const e=t.split(".");if(e.length!==3)throw new ma("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yv.test(e[r]))throw new ma("JWT not in base64url format");return{header:JSON.parse(Gu(e[0])),payload:JSON.parse(Gu(e[1])),signature:Ln(e[2]),raw:{header:e[0],payload:e[1]}}}async function Av(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Iv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Lv(t){return("0"+t.toString(16)).substr(-2)}function $v(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Lv).join("")}async function Uv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Uv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(t,e,n=!1){const r=$v();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gn(t,`${e}-code-verifier`,s);const i=await Dv(r);return[i,r===i?"plain":"s256"]}const Mv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bv(t){const e=t.headers.get(fa);if(!e||!e.match(Mv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Fv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(t){if(!Wv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ao(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vv(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Ju(t){return JSON.parse(JSON.stringify(t))}const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hv=[502,503,504];async function Qu(t){var e;if(!Rv(t))throw new pa(Ht(t),0);if(Hv.includes(t.status))throw new pa(Ht(t),t.status);let n;try{n=await t.json()}catch(i){throw new Gt(Ht(i),i)}let r;const s=Bv(t);if(s&&s.getTime()>=ff["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hu(Ht(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Hu(Ht(n),t.status,n.weak_password.reasons);throw new _v(Ht(n),t.status||500,r)}const qv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function R(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[fa]||(i[fa]=ff["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Kv(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Kv(t,e,n,r,s,i){const o=qv(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new pa(Ht(l),0)}if(a.ok||await Qu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qu(l)}}function Ve(t){var e;let n=null;Qv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Pv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Yu(t){const e=Ve(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Gv(t){return{data:t,error:null}}function Jv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Kn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xu(t){return t}function Qv(t){return t.access_token&&t.refresh_token&&t.expires_in}const lo=["global","local","others"];class Yv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=lo[0]){if(lo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lo.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Kn(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_t})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xu});if(h.error)throw h.error;const f=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){hn(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_t})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hn(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hn(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_t})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hn(e.userId);try{const{data:n,error:r}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hn(e.userId),hn(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},h=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xu});if(h.error)throw h.error;const f=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const fn={debug:!!(globalThis&&mf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Xv extends vf{}async function Zv(t,e,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Xv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ey(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ty(t){return parseInt(t,16)}function ny(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ry(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:h,uri:f,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=yf(t.address),y=h?`${h}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${f}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${S}
${g}`}class Z extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ii extends Z{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function sy({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Z({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Z({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Z({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Z({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Z({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Z({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(wf(o)){if(i.rp.id!==o)return new Z({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Z({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function iy({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Z({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Z({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(wf(r)){if(n.rpId!==r)return new Z({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Z({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Z({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Z({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ay=new oy;function ly(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Kn(t,["challenge","user","excludeCredentials"]),i=Ln(e).buffer,o=Object.assign(Object.assign({},n),{id:Ln(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ln(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function uy(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Kn(t,["challenge","allowCredentials"]),s=Ln(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ln(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function cy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xt(new Uint8Array(s.authenticatorData)),clientDataJSON:Xt(new Uint8Array(s.clientDataJSON)),signature:Xt(new Uint8Array(s.signature)),userHandle:s.userHandle?Xt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wf(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ec(){var t,e;return!!(ae()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hy(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ii("Browser returned unexpected credential type",e)}:{data:null,error:new ii("Empty credential response",e)}}catch(e){return{data:null,error:sy({error:e,options:t})}}}async function fy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ii("Browser returned unexpected credential type",e)}:{data:null,error:new ii("Empty credential response",e)}}catch(e){return{data:null,error:iy({error:e,options:t})}}}const py={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},my={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=oi(a,o):r[i]=oi(o)}else r[i]=o}return r}function gy(t,e){return oi(py,t,e||{})}function vy(t,e){return oi(my,t,e||{})}class yy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??ay.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=gy(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await hy({publicKey:u,signal:l});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=vy(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await fy(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Dr("rpId is required for WebAuthn authentication")};try{if(!ec())return{data:null,error:new Gt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Dr("rpId is required for WebAuthn registration")};try{if(!ec())return{data:null,error:new Gt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Gt("Unexpected error in register",o)}}}}ey();const wy={url:mv,storageKey:gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tc(t,e,n){return await n()}const pn={};class Mr{get jwks(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},wy),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Mr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Mr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ae()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gf(i.fetch),this.lock=i.lock||tc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ae()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Zv:this.lock=tc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ae()&&(n=Ov(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ae()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new Gt("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ve}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:f,options:d}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await dn(this.storage,this.storageKey)),i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:y},xform:Ve})}else if("phone"in e){const{phone:h,password:f,options:d}=e;i=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ve})}else throw new ys("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yu})}else throw new ys("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new cn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,h,f,d;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:S,statement:g,options:p}=e;let v;if(ae())if(typeof S=="object")v=S;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")v=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),k=await v.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=yf(k[0]);let j=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const D=await v.request({method:"eth_chainId"});j=ty(D)}const T={domain:_.host,address:x,statement:g,uri:_.href,version:"1",chainId:j,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=p==null?void 0:p.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=ry(T),y=await v.request({method:"personal_sign",params:[ny(m),x]})}try{const{data:w,error:S}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ve});if(S)throw S;if(!w||!w.session||!w.user){const g=new cn;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,h,f,d,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:g,statement:p,options:v}=e;let _;if(ae())if(typeof g=="object")_=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let j;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")j=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)j=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:S,error:g}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Xt(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ve});if(g)throw g;if(!S||!S.session||!S.user){const p=new cn;return this._returnResult({data:{user:null,session:null},error:p})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(O(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Ft(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ve});if(await mt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ve}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new cn;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await dn(this.storage,this.storageKey));const{error:f}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new ys("You must provide either an email or phone number.")}catch(a){if(O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ve});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await dn(this.storage,this.storageKey));const u=await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Gv});return!((i=u.data)===null||i===void 0)&&i.url&&ae()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new We;const{error:s}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await R(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await R(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ys("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<so:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ft(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ao()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Vv(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_t})})}catch(n){if(O(n))return kv(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new We;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await dn(this.storage,this.storageKey));const{data:u,error:h}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_t});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new We;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=oo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new We;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ae())throw new ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ws("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vu("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ws("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let d=h+f;l&&(d=parseInt(l));const m=d-h;m*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=d-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,h);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ft(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sv(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Nv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await dn(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,h;const{data:f,error:d}=i;if(d)throw d;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ae()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:h}=e,f=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ve}),{data:d,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new cn}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:m}))}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Iv(async s=>(s>0&&await Av(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ve})),(s,i)=>{const o=200*Math.pow(2,s);return i&&io(i)&&Date.now()+o-r<mn})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ae()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ft(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ft(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await gn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ao()}else if(s&&!s.user&&!s.user){const o=await Ft(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await mt(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,s)):s.user=ao()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<so;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${so}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),io(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ei;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new We;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),O(i)){const o={data:null,error:i};return io(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ju(s);await gn(this.storage,this.storageKey,i)}else{const s=Ju(n);await gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${ha} ticks`),s<=ha&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await dn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await R(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cy(e.webauthn.credential_response):dy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ly(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:uy(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=oo(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new We})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new We});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ae()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new We});const o=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ae()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+wv>s)return r;const{data:i,error:o}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=oo(r);n!=null&&n.allowExpired||zv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const h=Fv(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,Cv(`${a}.${l}`)))throw new ma("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}Mr.nextInstanceID={};const _y=Mr;class Sy extends _y{constructor(e){super(e)}}class ky{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=pv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:ov,realtime:lv,auth:Object.assign(Object.assign({},av),{storageKey:l}),global:iv},h=fv(r??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=dv(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new mg(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new nv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new hg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:h},f,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sy({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:h,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xy=(t,e,n)=>new ky(t,e,n);function Ey(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ey()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jy="https://ldzqrvgkeizjxnbzbmya.supabase.co",by="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxkenFydmdrZWl6anhuYnpibXlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NjE3MTEsImV4cCI6MjA3OTEzNzcxMX0.TMOIvRHZrupK58UPBvPGpc1nuyJI-7-bmlYusWRi7_k",z=xy(jy,by);function Ty(){const{t}=ze(),[e,n]=b.useState(!0),[r,s]=b.useState(""),[i,o]=b.useState(""),[a,l]=b.useState(""),[u,h]=b.useState(!1),[f,d]=b.useState(null),m=async y=>{if(y.preventDefault(),d(null),e&&i!==a){d({type:"error",text:t("auth.passwordsDoNotMatch")});return}h(!0);try{if(e){const{error:w}=await z.auth.signUp({email:r,password:i});d(w?{type:"error",text:w.message}:{type:"success",text:t("auth.accountCreated")})}else{const{error:w}=await z.auth.signInWithPassword({email:r,password:i});w&&d({type:"error",text:w.message})}}catch{d({type:"error",text:t("auth.networkError")})}finally{h(!1)}};return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container glass-card",children:[c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{className:"auth-title",children:t(e?"auth.createAccount":"auth.welcomeBack")}),c.jsx("p",{className:"auth-description",children:t(e?"auth.signUpDescription":"auth.signInDescription")})]}),c.jsxs("form",{onSubmit:m,className:"auth-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:t("auth.email")}),c.jsx("input",{type:"email",id:"email",value:r,onChange:y=>s(y.target.value),required:!0,placeholder:t("auth.emailPlaceholder")})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:t("auth.password")}),c.jsx("input",{type:"password",id:"password",value:i,onChange:y=>o(y.target.value),required:!0,placeholder:t("auth.passwordPlaceholder"),minLength:6})]}),e&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:t("auth.confirmPassword")}),c.jsx("input",{type:"password",id:"confirmPassword",value:a,onChange:y=>l(y.target.value),required:!0,placeholder:t("auth.passwordPlaceholder"),minLength:6})]}),f&&c.jsx("div",{className:`auth-message ${f.type}`,children:f.text}),c.jsx("button",{type:"submit",className:"auth-submit-button",disabled:u,children:t(u?"auth.processing":e?"auth.createAccount":"auth.signIn")})]}),c.jsx("div",{className:"auth-toggle",children:c.jsxs("p",{children:[t(e?"auth.alreadyHaveAccount":"auth.dontHaveAccount"),c.jsx("button",{type:"button",onClick:()=>{n(!e),d(null),s(""),o(""),l("")},className:"toggle-button",children:t(e?"auth.signIn":"auth.signUp")})]})}),c.jsx("a",{href:"/",className:"back-home",children:t("auth.backHome")})]})})}function Cy(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(new Date);b.useEffect(()=>{a();const u=setInterval(a,6e4);return()=>clearInterval(u)},[]);const o=(u,h)=>{const d=[],m=Math.abs(h)/100;for(let y=0;y<20;y++){const w=y/20,S=u*(1-h/100*(1-w)),g=(Math.random()-.5)*u*m*.5;d.push(S+g)}return d},a=async()=>{try{const h=await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json(),d=[{code:"USD",name:"US Dollar",rate:1},{code:"EUR",name:"Euro",rate:h.rates.EUR},{code:"THB",name:"Thai Baht",rate:h.rates.THB}].map(m=>{const y=(Math.random()-.5)*2;return{...m,change:y,history:o(m.rate,y)}});e(d),i(new Date),r(!1)}catch(u){console.error("Failed to fetch exchange rates:",u),r(!1)}},l=(u,h)=>{if(u.length<2)return null;const f=120,d=40,m=2,y=Math.min(...u),S=Math.max(...u)-y||1,p=`M ${u.map((_,k)=>{const x=k/(u.length-1)*f,j=d-(_-y)/S*(d-m*2)-m;return`${x},${j}`}).join(" L ")}`,v=`gradient-${Math.random().toString(36).substr(2,9)}`;return c.jsxs("svg",{width:f,height:d,className:"sparkline",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:v,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:h?"#34d399":"#f87171",stopOpacity:"0.3"}),c.jsx("stop",{offset:"100%",stopColor:h?"#34d399":"#f87171",stopOpacity:"0"})]})}),c.jsx("path",{d:`${p} L ${f},${d} L 0,${d} Z`,fill:`url(#${v})`}),c.jsx("path",{d:p,fill:"none",stroke:h?"#34d399":"#f87171",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};return n?c.jsxs("div",{className:"rates-loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{children:"Loading exchange rates..."})]}):c.jsxs("div",{className:"exchange-rates",children:[c.jsx("div",{className:"rates-header",children:c.jsxs("span",{className:"rates-update",children:["Last updated: ",s.toLocaleTimeString()]})}),c.jsx("div",{className:"rates-grid",children:t.map(u=>c.jsxs("div",{className:"rate-card",children:[c.jsxs("div",{className:"rate-header",children:[c.jsx("div",{className:"rate-icon",children:u.code==="USD"?"$":u.code==="EUR"?"":""}),c.jsxs("div",{className:"rate-info",children:[c.jsx("h3",{children:u.code}),c.jsx("p",{children:u.name})]})]}),c.jsx("div",{className:"rate-chart",children:l(u.history,u.change>=0)}),c.jsxs("div",{className:"rate-value",children:[c.jsx("span",{className:"rate-price",children:u.rate.toFixed(4)}),c.jsxs("span",{className:`rate-change ${u.change>=0?"positive":"negative"}`,children:[u.change>=0?"+":"",u.change.toFixed(2),"%"]})]})]},u.code))})]})}function Py({userId:t}){const{t:e}=ze(),[n,r]=b.useState([]),[s,i]=b.useState(!1),[o,a]=b.useState(""),[l,u]=b.useState("MetaMask"),[h,f]=b.useState(!1);b.useEffect(()=>{t&&d()},[t]);const d=async()=>{const{data:w}=await z.from("crypto_wallets").select("*").eq("user_id",t);w&&r(w)},m=async w=>{w.preventDefault(),f(!0);const{error:S}=await z.from("crypto_wallets").insert({user_id:t,wallet_address:o,wallet_type:l,is_verified:!1});S||(a(""),i(!1),d()),f(!1)},y=async w=>{await z.from("crypto_wallets").delete().eq("id",w),d()};return c.jsxs("div",{className:"wallet-connect",children:[c.jsxs("div",{className:"wallet-header",children:[c.jsx("h3",{children:e("wallet.title")}),c.jsx("button",{onClick:()=>i(!s),className:"add-wallet-btn",children:e(s?"wallet.cancel":"wallet.addWallet")})]}),s&&c.jsxs("form",{onSubmit:m,className:"add-wallet-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:e("wallet.type")}),c.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"form-select",children:[c.jsx("option",{value:"MetaMask",children:"MetaMask"}),c.jsx("option",{value:"Coinbase",children:"Coinbase Wallet"}),c.jsx("option",{value:"Trust Wallet",children:"Trust Wallet"}),c.jsx("option",{value:"Ledger",children:"Ledger"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:e("wallet.address")}),c.jsx("input",{type:"text",value:o,onChange:w=>a(w.target.value),placeholder:"0x...",className:"form-input",required:!0})]}),c.jsx("button",{type:"submit",disabled:h,className:"submit-btn",children:e(h?"wallet.adding":"wallet.connect")})]}),c.jsx("div",{className:"wallets-list",children:n.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:e("wallet.noWallets")})}):n.map(w=>c.jsxs("div",{className:"wallet-item",children:[c.jsx("div",{className:"wallet-icon",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:c.jsx("path",{d:"M21 18V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V6H12C10.9 6 10 6.9 10 8V16C10 17.1 10.9 18 12 18H21ZM12 16H22V8H12V16ZM16 13.5C15.17 13.5 14.5 12.83 14.5 12C14.5 11.17 15.17 10.5 16 10.5C16.83 10.5 17.5 11.17 17.5 12C17.5 12.83 16.83 13.5 16 13.5Z",fill:"currentColor"})})}),c.jsxs("div",{className:"wallet-details",children:[c.jsx("span",{className:"wallet-type",children:w.wallet_type}),c.jsxs("span",{className:"wallet-address",children:[w.wallet_address.slice(0,6),"...",w.wallet_address.slice(-4)]})]}),c.jsx("button",{onClick:()=>y(w.id),className:"remove-btn",children:e("common.remove")})]},w.id))})]})}function Ny({userId:t}){const{t:e}=ze(),[n,r]=b.useState([]),[s,i]=b.useState(!1),[o,a]=b.useState(""),[l,u]=b.useState(""),[h,f]=b.useState("checking"),[d,m]=b.useState(!1);b.useEffect(()=>{t&&y()},[t]);const y=async()=>{const{data:g}=await z.from("bank_accounts").select("*").eq("user_id",t);g&&r(g)},w=async g=>{g.preventDefault(),m(!0);const p=l.slice(-4),{error:v}=await z.from("bank_accounts").insert({user_id:t,bank_name:o,account_number_last4:p,account_type:h,is_verified:!1});v||(a(""),u(""),i(!1),y()),m(!1)},S=async g=>{await z.from("bank_accounts").delete().eq("id",g),y()};return c.jsxs("div",{className:"bank-connect",children:[c.jsxs("div",{className:"bank-header",children:[c.jsx("h3",{children:e("bank.title")}),c.jsx("button",{onClick:()=>i(!s),className:"add-bank-btn",children:e(s?"wallet.cancel":"bank.addBank")})]}),s&&c.jsxs("form",{onSubmit:w,className:"add-bank-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:e("bank.name")}),c.jsx("input",{type:"text",value:o,onChange:g=>a(g.target.value),placeholder:e("bank.namePlaceholder"),className:"form-input",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:e("bank.accountType")}),c.jsxs("select",{value:h,onChange:g=>f(g.target.value),className:"form-select",children:[c.jsx("option",{value:"checking",children:e("bank.checking")}),c.jsx("option",{value:"savings",children:e("bank.savings")})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:e("bank.accountNumber")}),c.jsx("input",{type:"password",value:l,onChange:g=>u(g.target.value),placeholder:e("bank.accountPlaceholder"),className:"form-input",required:!0,minLength:8}),c.jsx("span",{className:"form-hint",children:e("bank.securityNote")})]}),c.jsx("button",{type:"submit",disabled:d,className:"submit-btn",children:e(d?"bank.adding":"bank.connect")})]}),c.jsx("div",{className:"accounts-list",children:n.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:e("bank.noAccounts")})}):n.map(g=>c.jsxs("div",{className:"account-item",children:[c.jsx("div",{className:"account-icon",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:c.jsx("path",{d:"M12 2L2 7V10H22V7L12 2ZM4 12V17H6V12H4ZM9 12V17H11V12H9ZM13 12V17H15V12H13ZM18 12V17H20V12H18ZM2 19V21H22V19H2Z",fill:"currentColor"})})}),c.jsxs("div",{className:"account-details",children:[c.jsx("span",{className:"account-bank",children:g.bank_name}),c.jsxs("span",{className:"account-info",children:[g.account_type,"  ",g.account_number_last4]})]}),c.jsx("button",{onClick:()=>S(g.id),className:"remove-btn",children:e("common.remove")})]},g.id))})]})}function Oy(){const{t}=ze(),[e,n]=b.useState("crypto"),[r,s]=b.useState(""),[i,o]=b.useState(""),[a,l]=b.useState(""),[u,h]=b.useState("USD"),[f,d]=b.useState([]),[m,y]=b.useState([]),[w,S]=b.useState(!1),[g,p]=b.useState(!1);b.useEffect(()=>{v()},[]);const v=async()=>{const{data:{user:k}}=await z.auth.getUser();if(!k)return;const{data:x}=await z.from("crypto_wallets").select("*").eq("user_id",k.id),{data:j}=await z.from("bank_accounts").select("*").eq("user_id",k.id);x&&d(x),j&&y(j)},_=async k=>{k.preventDefault(),S(!0);const{data:{user:x}}=await z.auth.getUser();if(!x){S(!1);return}const{error:j}=await z.from("transactions").insert({user_id:x.id,type:"send",amount:parseFloat(a),currency:u,recipient_email:e==="fiat"?i:null,recipient_wallet:e==="crypto"?i:null,status:"completed"});j||(p(!0),l(""),o(""),s(""),setTimeout(()=>p(!1),3e3)),S(!1)};return c.jsxs("div",{className:"transfer",children:[c.jsxs("div",{className:"transfer-tabs",children:[c.jsx("button",{className:`tab ${e==="crypto"?"active":""}`,onClick:()=>n("crypto"),children:t("transfer.cryptoTransfer")}),c.jsx("button",{className:`tab ${e==="fiat"?"active":""}`,onClick:()=>n("fiat"),children:t("transfer.bankTransfer")})]}),c.jsxs("form",{onSubmit:_,className:"transfer-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:t("transfer.from")}),c.jsxs("select",{value:r,onChange:k=>s(k.target.value),className:"form-select",required:!0,children:[c.jsx("option",{value:"",children:t("transfer.selectSource")}),e==="crypto"?f.map(k=>c.jsxs("option",{value:k.id,children:[k.wallet_type," - ",k.wallet_address.slice(0,6),"...",k.wallet_address.slice(-4)]},k.id)):m.map(k=>c.jsxs("option",{value:k.id,children:[k.bank_name," - ",k.account_type,"  ",k.account_number_last4]},k.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:t(e==="crypto"?"transfer.to":"transfer.toAccount")}),c.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),placeholder:e==="crypto"?"0x...":t("transfer.toPlaceholder"),className:"form-input",required:!0})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:t("transfer.amount")}),c.jsx("input",{type:"number",value:a,onChange:k=>l(k.target.value),placeholder:"0.00",className:"form-input",step:"0.01",min:"0.01",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:t("transfer.currency")}),c.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"form-select",children:[c.jsx("option",{value:"USD",children:"USD"}),c.jsx("option",{value:"EUR",children:"EUR"}),c.jsx("option",{value:"THB",children:"THB"}),e==="crypto"&&c.jsxs(c.Fragment,{children:[c.jsx("option",{value:"BTC",children:"BTC"}),c.jsx("option",{value:"ETH",children:"ETH"}),c.jsx("option",{value:"USDT",children:"USDT"})]})]})]})]}),g&&c.jsx("div",{className:"success-message",children:t("transfer.success")}),c.jsx("button",{type:"submit",disabled:w,className:"transfer-btn",children:t(w?"transfer.processing":"transfer.send")})]}),c.jsxs("div",{className:"transfer-info",children:[c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:t("transfer.networkFee")}),c.jsx("span",{className:"info-value",children:e==="crypto"?"~$2.50":"$0.00"})]}),c.jsxs("div",{className:"info-item",children:[c.jsx("span",{className:"info-label",children:t("transfer.estimatedTime")}),c.jsx("span",{className:"info-value",children:e==="crypto"?"10-30 min":"1-3 days"})]})]})]})}function Ry({userId:t}){const{t:e}=ze(),[n,r]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState("all");b.useEffect(()=>{l()},[t]);const l=async()=>{i(!0);const{data:d,error:m}=await z.from("transactions").select("*").eq("user_id",t).order("created_at",{ascending:!1});!m&&d&&r(d),i(!1)},u=n.filter(d=>o==="all"?!0:d.type===o),h=d=>new Date(d).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=d=>{switch(d){case"completed":return"#1ed760";case"pending":return"#ffa500";case"failed":return"#ff4444";default:return"#888888"}};return c.jsxs("div",{className:"transactions-page",children:[c.jsxs("div",{className:"transactions-header",children:[c.jsx("h1",{children:e("dashboard.transactions")}),c.jsxs("div",{className:"transaction-filters",children:[c.jsx("button",{className:`filter-btn ${o==="all"?"active":""}`,onClick:()=>a("all"),children:"All"}),c.jsx("button",{className:`filter-btn ${o==="send"?"active":""}`,onClick:()=>a("send"),children:"Sent"}),c.jsx("button",{className:`filter-btn ${o==="receive"?"active":""}`,onClick:()=>a("receive"),children:"Received"})]})]}),s?c.jsx("div",{className:"transactions-loading",children:"Loading transactions..."}):u.length===0?c.jsx("div",{className:"transactions-empty glass-card",children:c.jsxs("div",{className:"empty-state-content",children:[c.jsxs("h3",{children:["No ",o==="all"?"":o==="send"?"sent":"received"," transactions yet"]}),c.jsx("p",{children:"Your transaction history will appear here"})]})}):c.jsx("div",{className:"transactions-list",children:u.map(d=>c.jsxs("div",{className:"transaction-item glass-card",children:[c.jsx("div",{className:"transaction-icon",children:d.type==="send"?"":""}),c.jsxs("div",{className:"transaction-details",children:[c.jsxs("div",{className:"transaction-main",children:[c.jsx("span",{className:"transaction-type",children:d.type==="send"?"Sent to":"Received from"}),c.jsx("span",{className:"transaction-recipient",children:d.recipient_email||d.recipient_wallet||"Unknown"})]}),c.jsx("div",{className:"transaction-date",children:h(d.created_at)})]}),c.jsxs("div",{className:"transaction-amount-wrapper",children:[c.jsxs("div",{className:`transaction-amount ${d.type}`,children:[d.type==="send"?"-":"+",d.amount.toFixed(2)," ",d.currency]}),c.jsx("div",{className:"transaction-status",style:{color:f(d.status)},children:d.status})]})]},d.id))})]})}function Ay({userId:t}){const{t:e}=ze(),[n,r]=b.useState(null),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(!1),[h,f]=b.useState(!1),[d,m]=b.useState(null),[y,w]=b.useState(!1),[S,g]=b.useState(!1);b.useEffect(()=>{p()},[t]);const p=async()=>{const{data:{user:x}}=await z.auth.getUser();if(x){a(x.email||"");const{data:j}=await z.from("user_profiles").select("*").eq("id",t).maybeSingle();j&&(r(j),i(j.full_name||""))}},v=async()=>{f(!0),m(null);const{error:x}=await z.from("user_profiles").update({full_name:s,updated_at:new Date().toISOString()}).eq("id",t);x?m({type:"error",text:"Failed to update profile"}):(m({type:"success",text:"Profile updated successfully"}),u(!1),p()),f(!1)},_=async()=>{m(null);const{error:x}=await z.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/reset-password`});m(x?{type:"error",text:"Failed to send password reset email"}:{type:"success",text:"Password reset email sent to your inbox"})},k=async()=>{g(!0),m(null);const{error:x}=await z.rpc("delete_user");x?(m({type:"error",text:"Failed to delete account. Please contact support."}),g(!1),w(!1)):(await z.auth.signOut(),window.location.href="/")};return c.jsxs("div",{className:"settings-page",children:[c.jsx("div",{className:"settings-header",children:c.jsx("h1",{children:e("dashboard.settings")})}),c.jsxs("div",{className:"settings-sections",children:[c.jsxs("div",{className:"settings-section glass-card",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{children:"Profile Information"}),l?c.jsxs("div",{className:"edit-actions",children:[c.jsx("button",{className:"cancel-btn",onClick:()=>{u(!1),i((n==null?void 0:n.full_name)||"")},children:"Cancel"}),c.jsx("button",{className:"save-btn",onClick:v,disabled:h,children:h?"Saving...":"Save"})]}):c.jsx("button",{className:"edit-btn",onClick:()=>u(!0),children:"Edit"})]}),d&&c.jsx("div",{className:`settings-message ${d.type}`,children:d.text}),c.jsxs("div",{className:"settings-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:o,disabled:!0,className:"disabled-input"}),c.jsx("span",{className:"field-help",children:"Email cannot be changed"})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{children:"Full Name"}),c.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),disabled:!l,placeholder:"Enter your full name"})]})]})]}),c.jsxs("div",{className:"settings-section glass-card",children:[c.jsx("div",{className:"section-header",children:c.jsx("h2",{children:"Security"})}),c.jsx("div",{className:"settings-form",children:c.jsxs("div",{className:"form-field",children:[c.jsx("label",{children:"Password"}),c.jsxs("div",{className:"password-field",children:[c.jsx("input",{type:"password",value:"",disabled:!0,className:"disabled-input"}),c.jsx("button",{className:"change-password-btn",onClick:_,children:"Change Password"})]}),c.jsx("span",{className:"field-help",children:"We'll send you an email with a reset link"})]})})]}),c.jsxs("div",{className:"settings-section glass-card",children:[c.jsx("div",{className:"section-header",children:c.jsx("h2",{children:"Account"})}),c.jsxs("div",{className:"settings-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{children:"User ID"}),c.jsx("input",{type:"text",value:t,disabled:!0,className:"disabled-input"})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{children:"Member Since"}),c.jsx("input",{type:"text",value:n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString():"N/A",disabled:!0,className:"disabled-input"})]})]})]}),c.jsxs("div",{className:"settings-section danger-section glass-card",children:[c.jsx("div",{className:"section-header",children:c.jsx("h2",{children:"Danger Zone"})}),c.jsx("div",{className:"danger-actions",children:c.jsxs("div",{className:"danger-action",children:[c.jsxs("div",{children:[c.jsx("h3",{children:"Delete Account"}),c.jsx("p",{children:"Permanently delete your account and all associated data"})]}),y?c.jsxs("div",{className:"delete-confirm",children:[c.jsx("p",{className:"confirm-text",children:"Are you sure? This cannot be undone."}),c.jsxs("div",{className:"confirm-actions",children:[c.jsx("button",{className:"cancel-delete-btn",onClick:()=>w(!1),disabled:S,children:"Cancel"}),c.jsx("button",{className:"confirm-delete-btn",onClick:k,disabled:S,children:S?"Deleting...":"Yes, Delete My Account"})]})]}):c.jsx("button",{className:"danger-btn",onClick:()=>w(!0),children:"Delete Account"})]})})]})]})]})}function Iy({onLogout:t}){const{t:e,setLanguage:n}=ze(),[r,s]=b.useState(null),[i,o]=b.useState(!1),[a,l]=b.useState("dashboard"),u=[{code:"en",name:"English",flag:""},{code:"fr",name:"Franais",flag:""},{code:"th",name:"",flag:""}];b.useEffect(()=>{h()},[]);const h=async()=>{const{data:{user:d}}=await z.auth.getUser();if(d){s(d);const{data:m}=await z.from("user_profiles").select("*").eq("id",d.id).maybeSingle();m||(await z.from("user_profiles").insert({id:d.id,email:d.email||"",full_name:""}),h())}},f=async()=>{await z.auth.signOut(),t()};return c.jsxs("div",{className:"dashboard",children:[c.jsxs("header",{className:"dashboard-header",children:[c.jsx("div",{className:"dashboard-logo",children:c.jsx("h1",{children:"Coinvoy"})}),c.jsxs("div",{className:"dashboard-user",children:[c.jsx("span",{className:"user-email",children:r==null?void 0:r.email}),c.jsxs("div",{className:"dashboard-lang-dropdown",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("button",{className:"lang-btn",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}),i&&c.jsx("div",{className:"lang-dropdown-menu",children:u.map(d=>c.jsxs("button",{className:"lang-dropdown-item",onClick:()=>n(d.code),children:[c.jsx("span",{className:"lang-flag",children:d.flag}),d.name]},d.code))})]}),c.jsx("button",{onClick:f,className:"logout-btn",children:e("nav.signOut")})]})]}),c.jsxs("div",{className:"dashboard-container",children:[c.jsx("div",{className:"dashboard-sidebar",children:c.jsxs("nav",{className:"dashboard-nav",children:[c.jsx("button",{className:`nav-item ${a==="dashboard"?"active":""}`,onClick:()=>l("dashboard"),children:e("dashboard.title")}),c.jsx("button",{className:`nav-item ${a==="transactions"?"active":""}`,onClick:()=>l("transactions"),children:e("dashboard.transactions")}),c.jsx("button",{className:`nav-item ${a==="settings"?"active":""}`,onClick:()=>l("settings"),children:e("dashboard.settings")})]})}),c.jsxs("main",{className:"dashboard-main",children:[a==="dashboard"&&c.jsxs("div",{className:"dashboard-grid",children:[c.jsxs("div",{className:"dashboard-section rates-section",children:[c.jsx("h2",{children:e("dashboard.liveRates")}),c.jsx(Cy,{})]}),c.jsxs("div",{className:"dashboard-section accounts-section",children:[c.jsx("h2",{children:e("dashboard.connectedAccounts")}),c.jsxs("div",{className:"accounts-grid",children:[c.jsx(Py,{userId:r==null?void 0:r.id}),c.jsx(Ny,{userId:r==null?void 0:r.id})]})]}),c.jsxs("div",{className:"dashboard-section transfer-section",children:[c.jsx("h2",{children:e("dashboard.sendMoney")}),c.jsx(Oy,{})]})]}),a==="transactions"&&(r==null?void 0:r.id)&&c.jsx(Ry,{userId:r.id}),a==="settings"&&(r==null?void 0:r.id)&&c.jsx(Ay,{userId:r.id})]})]})]})}function Ly(){const t=b.useRef(null),e=b.useRef(null),[n,r]=b.useState(!1),[s,i]=b.useState(!1),o=b.useRef({x:0,y:0}),a=b.useRef({x:0,y:0}),l=b.useRef({x:0,y:0});return b.useEffect(()=>{const u=t.current,h=e.current;if(!u||!h)return;const f=(g,p,v)=>g+(p-g)*v,d=g=>{o.current={x:g.clientX,y:g.clientY};const v=g.target.closest("button, a, .country-path, .feature-card, .nav-link-button, .dropdown-item, input, textarea");if(r(!!v),v&&v.classList.contains("magnetic")){const _=v.getBoundingClientRect(),k=_.left+_.width/2,x=_.top+_.height/2,j=g.clientX-k,T=g.clientY-x;if(Math.sqrt(j*j+T*T)<100){const Ut=j*.3,Dt=T*.3;v.style.transform=`translate(${Ut}px, ${Dt}px)`}}},m=()=>{document.querySelectorAll(".magnetic").forEach(g=>{g.style.transform="translate(0, 0)"})},y=()=>{i(!0)},w=()=>{i(!1)},S=()=>{a.current.x=f(a.current.x,o.current.x,.15),a.current.y=f(a.current.y,o.current.y,.15),l.current.x=o.current.x-a.current.x,l.current.y=o.current.y-a.current.y;const p=Math.sqrt(l.current.x*l.current.x+l.current.y*l.current.y),v=Math.min(1+p*.02,1.5);u.style.transform=`translate(${a.current.x}px, ${a.current.y}px) scale(${v})`,h.style.transform=`translate(${o.current.x}px, ${o.current.y}px)`,requestAnimationFrame(S)};return window.addEventListener("mousemove",d),window.addEventListener("mouseleave",m),window.addEventListener("mousedown",y),window.addEventListener("mouseup",w),requestAnimationFrame(S),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseleave",m),window.removeEventListener("mousedown",y),window.removeEventListener("mouseup",w)}},[]),c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:t,className:`magnetic-cursor ${n?"hovering":""} ${s?"clicking":""}`}),c.jsx("div",{ref:e,className:`magnetic-cursor-dot ${n?"hovering":""} ${s?"clicking":""}`})]})}function $y(){const[t,e]=b.useState("home"),[n,r]=b.useState(!1),[s,i]=b.useState(!0);b.useEffect(()=>{o()},[]);const o=async()=>{const{data:{session:a}}=await z.auth.getSession();a&&(r(!0),e("dashboard")),i(!1);const{data:{subscription:l}}=z.auth.onAuthStateChange((u,h)=>{h?(r(!0),e("dashboard")):(r(!1),e("home"))});return()=>l.unsubscribe()};return s?c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"},children:c.jsx("div",{style:{color:"white"},children:"Loading..."})}):t==="dashboard"&&n?c.jsx(Iy,{onLogout:()=>{r(!1),e("home")}}):t==="auth"?c.jsx(Ty,{}):c.jsxs("div",{className:"app",children:[c.jsx(Ly,{}),c.jsxs("div",{className:"content",children:[c.jsx(eg,{onNavigateToAuth:()=>e("auth")}),c.jsx(tg,{}),c.jsx(ng,{}),c.jsx(ig,{onNavigateToAuth:()=>e("auth")})]})]})}uo.createRoot(document.getElementById("root")).render(c.jsx(Mf.StrictMode,{children:c.jsx(Xm,{children:c.jsx($y,{})})}));
